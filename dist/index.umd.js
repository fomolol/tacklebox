!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@studio-freight/tempus"),require("nanoid"),require("throttle-debounce")):"function"==typeof define&&define.amd?define(["exports","react","@studio-freight/tempus","nanoid","throttle-debounce"],n):n((e||self).hamo={},e.react,e.tempus,e.nanoid,e.throttleDebounce)}(this,function(e,n,t,r,u){var o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,i="undefined"!=typeof window?function(){var e=n.useState(document.readyState),t=e[0],r=e[1];return o(function(){function e(){r(document.readyState)}return r(document.readyState),document.addEventListener("readystatechange",e,!1),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),t}:function(){},c=[],f=function(e){var n=e.type;"string"==typeof e&&(n=e);var t=[];t.push("string"==typeof e?{type:n}:e),c.forEach(function(e){var r=e[0],u=e[1];"string"==typeof r&&r!==n||("function"!=typeof r||r.apply(void 0,t))&&u.apply(void 0,t)})};function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function a(e,n){void 0===n&&(n=0);var t=n+e.offsetTop;return e.offsetParent?a(e.offsetParent,t):t}function d(e,n){void 0===n&&(n=0);var t=n+e.offsetLeft;return e.offsetParent?d(e.offsetParent,t):t}e.dispatch=f,e.useDebug=function(){return n.useMemo(function(){return"undefined"!=typeof window&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV)},[])},e.useDocumentReadyState=i,e.useEventBus=function(e,t,r){return void 0===r&&(r=[]),n.useEffect(function(){return function(e,n){if(null!=e&&null!=n)return c=[].concat(c,[[e,n]]),function(){c=c.filter(function(e){return e[1]!==n})}}(e,t)},[].concat(r,[t,e])),f},e.useFrame=function(e,r){void 0===r&&(r=0),n.useEffect(function(){if(e){var n=t.raf.add(e,r);return function(){t.raf.remove(n)}}},[e,r])},e.useId=function(){return n.useMemo(function(){return r.nanoid()},[])},e.useInterval=function(e,t){var r=n.useRef();n.useEffect(function(){r.current=e}),n.useEffect(function(){if(null!==t){var e=setInterval(function(){r.current()},t);return function(){return clearInterval(e)}}},[t])},e.useIsTouchDevice=function(){var e=n.useState(void 0),t=e[0],r=e[1],u=n.useCallback(function(){r("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);return o(function(){return u(),window.addEventListener("resize",u,!1),function(){window.removeEventListener("resize",u,!1)}},[]),t},e.useIsVisible=function(e){var t=void 0===e?{}:e,r=t.root,u=void 0===r?null:r,o=t.rootMargin,i=void 0===o?"0px":o,c=t.threshold,f=void 0===c?1:c,s=t.once,a=void 0!==s&&s,d=n.useRef(),v=n.useRef(),l=n.useState(!1),h=l[0],p=l[1],m=n.useCallback(function(e){p(e[0].isIntersecting)},[]);return n.useEffect(function(){return d.current=new IntersectionObserver(m,{root:u,rootMargin:i,threshold:f}),v.current&&d.current.observe(v.current),function(){d.current.disconnect()}},[m]),n.useEffect(function(){a&&h&&d.current.disconnect()},[h]),{setRef:function(e){v.current||(v.current=e)},inView:h}},e.useLayoutEffect=o,e.useMediaQuery=function(e){var t=n.useState(void 0),r=t[0],u=t[1],i=n.useCallback(function(e){u(e.matches)},[]);return o(function(){var n=window.matchMedia(e);return i(n),n.addEventListener("change",i),function(){n.removeEventListener("change",i)}}),r},e.useOutsideClickEvent=function(e,t){var r=n.useCallback(function(n){e.current&&!e.current.contains(n.target)&&t()},[e,t]);n.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r])},e.useRect=function(e){var t=(void 0===e?{}:e).debounce,r=void 0===t?1e3:t,i=n.useRef(),c=n.useState({top:void 0,left:void 0,width:void 0,height:void 0}),f=c[0],v=c[1],l=function(){i.current&&v(function(e){return s({},e,{top:a(i.current),left:d(i.current)})})};o(function(){var e=u.throttle(r,l),n=new ResizeObserver(e);return n.observe(document.body),function(){n.disconnect(),e.cancel({upcomingOnly:!0})}},[r]);var h=function(e){var n=e[0].contentRect,t=n.width,r=n.height;v(function(e){return s({},e,{width:t,height:r})})},p=n.useRef();return[function(e){var n;e&&e!==i.current&&(null==(n=p.current)||n.disconnect(),p.current=new ResizeObserver(h),p.current.observe(e),i.current=e)},f,function(e,n){return f}]},e.useSlots=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var r=n.useMemo(function(){return t&&[t].flat()},[t]),u=n.useMemo(function(){return e&&[e].flat()},[e]),o=n.useMemo(function(){return r&&u&&u.map(function(e){var n;return null==(n=r.find(function(n){return n.type===e}))?void 0:n.props.children})},[r,u]);return e[0]?o:o[0]}});
//# sourceMappingURL=index.umd.js.map
