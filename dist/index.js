var e=require("react"),t=require("nanoid"),n=require("throttle-debounce"),r=require("next/router"),o=require("framer-motion"),u=require("react-singleton-hook"),i=require("matter-js"),c=require("paper");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,t}var d=/*#__PURE__*/a(i),l=/*#__PURE__*/s(c),f="undefined"!=typeof window,v=function(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r},m=function(e,t,n){return(1-n)*e+n*t},p=f?e.useLayoutEffect:e.useEffect,h="undefined"!=typeof window?function(){var t=e.useState(document.readyState),n=t[0],r=t[1];return p(function(){function e(){r(document.readyState)}return r(document.readyState),document.addEventListener("readystatechange",e,!1),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),n}:function(){},g=[],w=function(e){var t=e.type;"string"==typeof e&&(t=e);var n=[];n.push("string"==typeof e?{type:t}:e),g.forEach(function(e){var r=e[0],o=e[1];"string"==typeof r&&r!==t||("function"!=typeof r||r.apply(void 0,n))&&o.apply(void 0,n)})},E=function(e,t){"function"==typeof e?e(t):e&&(e.current=t)};function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e,t){void 0===t&&(t=0);var n=t+e.offsetTop;return e.offsetParent?b(e.offsetParent,n):n}function x(e,t){void 0===t&&(t=0);var n=t+e.offsetLeft;return e.offsetParent?x(e.offsetParent,n):n}var C=function(){var t=e.useState(),n=t[0],r=t[1],o=e.useCallback(function(){r({width:window.innerWidth,height:window.innerHeight})},[]);return p(function(){return window.addEventListener("resize",o),o(),function(){return window.removeEventListener("resize",o)}},[]),n};function L(e,t){var n=e-window.innerWidth;return t>n?n:0>t?0:t}function S(){var t=e.useState({x:null,y:null}),n=t[0],r=t[1];return e.useEffect(function(){var e=function(e){r({x:e.clientX,y:e.clientY})};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}},[]),n}var R=u.singletonHook(!1,function(t){void 0===t&&(t=940);var n=e.useState(!1),r=n[0],o=n[1];return e.useEffect(function(){function e(){var e=window.innerWidth;o(e<t)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),r});exports.dispatch=w,exports.useCanvas=function(t,n){void 0===n&&(n="2d");var r=e.useRef(null);return e.useEffect(function(){var e=r.current.getContext(n),o=requestAnimationFrame(function n(){o=requestAnimationFrame(n),t(e)});return function(){return cancelAnimationFrame(o)}},[t,n]),r},exports.useClipboard=function(t){var n=e.useState(!1),r=n[0],o=n[1],u=e.useCallback(function(){r||o(function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select();var r=document.execCommand("copy");return document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),r}(t))},[t]);return e.useEffect(function(){return function(){return o(!1)}},[t]),[r,u]},exports.useCookieBanner=function(t){var n=t.cookieAcceptKey,r=e.useState(),o=r[0],u=r[1];return p(function(){var e=window.localStorage.getItem(process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY||n);u(null!==e)},[]),o},exports.useCursorStyle=function(t,n){var r=e.useCallback(function(){n({type:"ADD_CURSOR_BORDER"})},[n]),o=e.useCallback(function(){n({type:"REMOVE_CURSOR_BORDER"})},[n]);return y({},t,{addCursorColor:e.useCallback(function(e){n({type:"ADD_CURSOR_COLOR",payload:e})},[n]),resetCursorColor:e.useCallback(function(){n({type:"RESET_CURSOR_COLOR"})},[n]),addCursorBorder:r,removeCursorBorder:o,lockCursorPosition:e.useCallback(function(e){n({type:"LOCK_CURSOR_POSITION",payload:e})},[n])})},exports.useCustomConsole=function(){return p(function(){var e="font-size:15px;";console.log("%cFOMOLOL Police ðŸš¨","color:red; font-size:65px; font-weight:bold; -webkit-text-stroke: 1px black"),console.log("%cThis is a browser feature intended for developers. If someone told you to copy-paste something here, it is a scam and could give them access to your wallet.",e),console.log("%cIf you need a job see https://jobs.fomolol.com for more info.",e)},[]),null},exports.useDebug=function(){return e.useMemo(function(){return"undefined"!=typeof window&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV||process.env.NEXT_PUBLIC_DEBUG_MODE||process.env.NEXT_PUBLIC_DEBUG)},[])},exports.useDocumentReadyState=h,exports.useEventBus=function(t,n,r){return void 0===r&&(r=[]),e.useEffect(function(){return function(e,t){if(null!=e&&null!=t)return g=[].concat(g,[[e,t]]),function(){g=g.filter(function(e){return e[1]!==t})}}(t,n)},[].concat(r,[n,t])),w},exports.useFocus=function(t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var r=e.useState(!0),o=r[0],u=r[1],i=e.useCallback(function(){t(),u(!0)},[t]),c=e.useCallback(function(){n(),u(!1)},[n]);return p(function(){return window.addEventListener("focus",i),window.addEventListener("blur",c),function(){window.removeEventListener("focus",i),window.removeEventListener("blur",c)}},[]),{focused:o}},exports.useForkRef=function(t,n){return e.useMemo(function(){return null==t&&null==n?null:function(e){E(t,e),E(n,e)}},[t,n])},exports.useGiphy=function(t){void 0===t&&(t="pokemon");var n=e.useState(null),r=n[0],o=n[1],u=e.useState(!1),i=u[0],c=u[1];return useEffect(function(){if(t&&!r&&!i)try{c(!0),require("giphy-api")(process.env.GIPHY_API_KEY||process.env.NEXT_PUBLIC_GIPHY_API_KEY).search(t,function(e,t){if(200===t.meta.status){var n=Math.floor(Math.random()*(t.data.length-1)+1),r=t.data[n];if(r&&r.images){console.log("randomGif",r);var u=r.images;o({data:r,url:(null==u?void 0:u.fixed_width).webp}),c(!1)}}else c(!1),console.error(t.meta.msg,e)})}catch(e){c(!1),console.error("Error occurred initializing Giphy API",e)}},[r,i,t]),[i,r]},exports.useHashScroll=function(e){var t=r.useRouter(),n=t.asPath;p(function(){if(t.isReady&&e){var r=function(e){return e.split("#")[1]}(n);if(r)try{t.push({pathname:"/",hash:r})}catch(e){console.log("Error pushing route",e)}else window.scrollTo(0,0)}},[e])},exports.useHorizontalScroll=function(t){var r=e.useState(0),o=r[0],u=r[1];return e.useEffect(function(){var e,r=null==t||null==(e=t.current)?void 0:e.scrollWidth;if(r){var o,i=n.throttle(function(e){var t=Math.round(e.touches[0].clientY-o);u(function(e){return L(r,e-t)})},16);return document.addEventListener("wheel",s),document.addEventListener("touchmove",i),document.addEventListener("touchstart",a),document.addEventListener("touchend",d),window.addEventListener("resize",c),function(){document.removeEventListener("wheel",s),document.removeEventListener("touchmove",i),document.removeEventListener("touchstart",a),document.removeEventListener("touchend",d),window.removeEventListener("resize",c)}}function c(){var e;r=null==t||null==(e=t.current)?void 0:e.scrollWidth,u(0)}function s(e){var t=e.deltaY;u(function(e){return L(r,e+t)})}function a(e){o=e.touches[0].clientY}function d(){o=0}},[t,u]),o},exports.useHoverImage=function(t,n){var r=S(),u=r.x,i=r.y,c=o.useMotionValue(0),s=o.useMotionValue(0),a=o.useMotionValue(0),d=o.useMotionValue(0),l=o.useMotionValue(0),f=o.useMotionValue(0),p=o.useMotionTemplate("translate("+c.get()+"px, "+a.get()+"px) rotate("+l.get()+"deg)"),h="brightness("+f.get()+")";return e.useEffect(function(){var e=t.current.getBoundingClientRect(),r=n.current.getBoundingClientRect(),o=Math.abs(u-e.left)-r.width/2,s=Math.abs(i-e.top)-r.height/2;c.set(o),a.set(s)},[u,i]),e.useEffect(function(){function e(){var e={x:s.get()-c.get(),y:d.get()-a.get()};s.set(m(s.get(),c.getPrevious(),.08)),d.set(m(d.get(),a.getPrevious(),.08));var t,n=(t=Math.abs(e.x))<=0?0:t>=100?100:t,r=v(n,0,100,0,e.x<0?33:-33);o.animate(l,r,{duration:.25,ease:"linear"});var u=v(n,0,100,1,3);f.set(u)}var t=c.onChange(e),n=a.onChange(e);return function(){t(),n()}},[]),{transform:p,filter:h}},exports.useId=function(){return e.useMemo(function(){return t.nanoid()},[])},exports.useIntersectionObserver=function(t,n,r){void 0===n&&(n=[0]),void 0===r&&(r=null);var u=e.useState(!1),i=u[0],c=u[1],s=o.useSpring(0,{damping:400,friction:100});return e.useEffect(function(){var e=new IntersectionObserver(function(e){var t=e[0];t.isIntersecting?(c(!0),s.set(t.intersectionRatio)):c(!1)},{root:r,rootMargin:"0px 0px 0px 0px",threshold:n});return e.observe(t.current),function(){return e.disconnect()}},[t,n,r,s]),{inView:i,springValue:s}},exports.useInterval=function(t,n){var r=e.useRef();e.useEffect(function(){r.current=t}),e.useEffect(function(){if(null!==n){var e=setInterval(function(){r.current()},n);return function(){return clearInterval(e)}}},[n])},exports.useIsMobile=R,exports.useIsTouchDevice=function(){var t=e.useState(void 0),n=t[0],r=t[1],o=e.useCallback(function(){r("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);return p(function(){return o(),window.addEventListener("resize",o,!1),function(){window.removeEventListener("resize",o,!1)}},[]),n},exports.useIsVisible=function(t){var n=void 0===t?{}:t,r=n.root,o=void 0===r?null:r,u=n.rootMargin,i=void 0===u?"0px":u,c=n.threshold,s=void 0===c?1:c,a=n.once,d=void 0!==a&&a,l=e.useRef(),f=e.useRef(),v=e.useState(!1),m=v[0],p=v[1],h=e.useCallback(function(e){p(e[0].isIntersecting)},[]);return e.useEffect(function(){return l.current=new IntersectionObserver(h,{root:o,rootMargin:i,threshold:s}),f.current&&l.current.observe(f.current),function(){l.current.disconnect()}},[h]),e.useEffect(function(){d&&m&&l.current.disconnect()},[m]),{setRef:function(e){f.current||(f.current=e)},inView:m}},exports.useLayoutEffect=p,exports.useMatterJS=function(t){var n=t.ref,r=t.width,o=t.height,u=t.wireframes,i=void 0!==u&&u,c=t.hasBounds,s=void 0===c||c,a=t.background,l=void 0===a?"transparent":a;return e.useMemo(function(){d.use("matter-attractors"),d.use("matter-wrap");var e=d.Engine.create(),t=e.world;e.timing.timeScale=1.5;var u=d.Render.create({element:n.current,engine:e,options:{hasBounds:s,wireframes:i,width:r,height:o,background:l}}),c=u.canvas;d.Render.run(u);var a=d.Runner.create();d.Runner.run(a,e);var f=d.Mouse.create(c),v=d.MouseConstraint.create(e,{mouse:f,constraint:{stiffness:.2,render:{visible:!1}}});return d.World.add(t,v),u.mouse=f,d.Render.lookAt(u,{min:{x:0,y:0},max:{x:r,y:o}}),v.mouse.element.removeEventListener("mousewheel",v.mouse.mousewheel),v.mouse.element.removeEventListener("DOMMouseScroll",v.mouse.mousewheel),{loaded:!0,engine:e,render:u,runner:a,mouse:f}},[n,l,i,s,o,r])},exports.useMediaQuery=function(t){var n=e.useState(void 0),r=n[0],o=n[1],u=e.useCallback(function(e){o(e.matches)},[]);return p(function(){var e=window.matchMedia(t);return u(e),e.addEventListener("change",u),function(){e.removeEventListener("change",u)}}),r},exports.useMouseDirection=function(){var e=C(),t=e.width,n=e.height,r=S(),o=r.x,u=r.y;return{direction:o>t/2&&u>n/2?"se":o<t/2&&u>n/2?"sw":o>t/2&&u<n/2?"ne":"nw",hasMovedCursor:"number"==typeof o&&"number"==typeof u}},exports.useMousePosition=S,exports.useOutsideClickEvent=function(t,n){var r=e.useCallback(function(e){t.current&&!t.current.contains(e.target)&&n()},[t,n]);e.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r])},exports.usePaperJS=function(t){var n=t.ref,r=e.useState(),o=r[0],u=r[1];return p(function(){if(!o&&n&&n.current){var e=new l.default.Project(n.current);u(e)}},[o,n]),o},exports.useParallax=function(e,t){return o.useTransform(e,[0,1],[-t,t])},exports.usePopup=function(t){var n=t.title,r=void 0===n?"":n,o=t.width,u=void 0===o?500:o,i=t.height,c=void 0===i?1050:i,s=t.url,a=t.storageKey,d=void 0===a?"FOMOLOL_TEMP_DATA":a,l=t.onCreate,f=void 0===l?function(e){return console.log("Created a window with url",e)}:l,v=t.onData,m=void 0===v?function(e){return console.log("data",e)}:v,p=t.onClose,h=void 0===p?function(){}:p,g=t.onError,w=void 0===g?function(e){return console.log("Popup error",error)}:g,E=e.useRef(),y=e.useRef(),b=e.useCallback(function(){try{var e=localStorage.getItem(d);if(e){var t,n=JSON.parse(e);m(n),window.localStorage.removeItem(d),null==(t=E.current)||t.close(),window.removeEventListener("storage",b)}}catch(e){w(e),window.removeEventListener("storage",b)}},[m,w,d,E]),x=e.useCallback(function(e){var t,n=e.url,r=e.title,o=e.height,u=e.width,i=e.onClose,c="width="+u+",height="+o+",left="+(window.screenX+(window.outerWidth-u)/2)+",top="+(window.screenY+(window.outerHeight-o)/2.5);null===E.current||null!=(t=E.current)&&t.closed?E.current=window.open(n,r,c):y.current!==n?(E.current=window.open(n,r,c),E.current.focus()):E.current.focus(),window.addEventListener("storage",b),window.addEventListener("beforeunload",function(){i()},!1),y.current=n,f(n)},[E,b]);return{onClick:e.useCallback(function(){x({url:s,title:r,width:u,height:c,onData:m,onClose:h,onError:w,storageKey:d})},[x,s,r,u,c,m,h,w,d])}},exports.useRect=function(t){var r=(void 0===t?{}:t).debounce,o=void 0===r?1e3:r,u=e.useRef(),i=e.useState({top:void 0,left:void 0,width:void 0,height:void 0}),c=i[0],s=i[1],a=function(){u.current&&s(function(e){return y({},e,{top:b(u.current),left:x(u.current)})})};p(function(){var e=n.throttle(o,a),t=new ResizeObserver(e);return t.observe(document.body),function(){t.disconnect(),e.cancel({upcomingOnly:!0})}},[o]);var d=function(e){var t=e[0].contentRect,n=t.width,r=t.height;s(function(e){return y({},e,{width:n,height:r})})},l=e.useRef();return[function(e){var t;e&&e!==u.current&&(null==(t=l.current)||t.disconnect(),l.current=new ResizeObserver(d),l.current.observe(e),u.current=e)},c,function(e,t){return c}]},exports.useSlots=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var r=e.useMemo(function(){return n&&[n].flat()},[n]),o=e.useMemo(function(){return t&&[t].flat()},[t]),u=e.useMemo(function(){return r&&o&&o.map(function(e){var t;return null==(t=r.find(function(t){return t.type===e}))?void 0:t.props.children})},[r,o]);return t[0]?u:u[0]},exports.useSmoothTransform=function(e,t,n){return o.useSpring(o.useTransform(e,n),t)},exports.useSticky=function(e,t){void 0===e&&(e="header-not-at-top"),void 0===t&&(t="#top-of-site-pixel-anchor");var n,r,o=function(){document.documentElement.dataset.scroll=window.scrollY};document.addEventListener("scroll",(n=o,function(){var e=arguments;r&&cancelAnimationFrame(r),r=requestAnimationFrame(function(){n.apply(void 0,[].slice.call(e))})}),{passive:!0}),o(),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&new IntersectionObserver(function(t){t[0].boundingClientRect.y<0?document.body.classList.add(e):document.body.classList.remove(e)}).observe(document.querySelector(t))},exports.useTheme=function(){var t=e.useCallback(function(){"undefined"!=typeof window&&(localStorage.getItem("theme")?"light"===localStorage.getItem("theme")?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")))},[]),n=e.useCallback(function(){return"undefined"!=typeof window?localStorage.getItem("theme"):null},[]);return p(function(){localStorage.getItem("theme")&&("light"===localStorage.getItem("theme")?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"))},[t]),{toggle:t,getTheme:n}},exports.useTimeout=function(t,n){var r=e.useRef();e.useEffect(function(){r.current=t},[t]),e.useEffect(function(){if(null!==n){var e=setTimeout(function(){r.current()},1e3*n);return function(){return clearTimeout(e)}}},[n])},exports.useWindowSize=C;
//# sourceMappingURL=index.js.map
