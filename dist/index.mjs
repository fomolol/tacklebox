import{useCallback as e,useEffect as n,useMemo as t,useLayoutEffect as o,useState as r,useRef as i,useReducer as u}from"react";import{nanoid as c}from"nanoid";import{throttle as a}from"throttle-debounce";import{useRouter as s}from"next/router";import{useSpring as d,useTransform as f,useMotionValue as l,useMotionTemplate as v,animate as m}from"framer-motion";import{singletonHook as h}from"react-singleton-hook";function g(t,o){var r=e(function(e){t.current&&!t.current.contains(e.target)&&o()},[t,o]);n(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r])}var w=function(){return t(function(){return"undefined"!=typeof window&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV||process.env.NEXT_PUBLIC_DEBUG_MODE||process.env.NEXT_PUBLIC_DEBUG)},[])},p="undefined"!=typeof window,y=function(e,n,t,o,r){return(e-n)*(r-o)/(t-n)+o},E=function(e,n,t){return(1-t)*e+t*n},O=p?o:n,b="undefined"!=typeof window?function(){var e=r(document.readyState),n=e[0],t=e[1];return O(function(){function e(){t(document.readyState)}return t(document.readyState),document.addEventListener("readystatechange",e,!1),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),n}:function(){},L=[],S=function(e){var n=e.type;"string"==typeof e&&(n=e);var t=[];t.push("string"==typeof e?{type:n}:e),L.forEach(function(e){var o=e[0],r=e[1];"string"==typeof o&&o!==n||("function"!=typeof o||o.apply(void 0,t))&&r.apply(void 0,t)})},x=function(e,t,o){return void 0===o&&(o=[]),n(function(){return function(e,n){if(null!=e&&null!=n)return L=[].concat(L,[[e,n]]),function(){L=L.filter(function(e){return e[1]!==n})}}(e,t)},[].concat(o,[t,e])),S};function C(e,t,o,r){var u=i(o),c=i(r);n(function(){u.current=o,c.current=r}),n(function(){var n=e&&"current"in e?e.current:e;if(n){var o=0;n.addEventListener(t,i);var r=c.current;return function(){o=1,n.removeEventListener(t,i),r&&r()}}function i(){o||u.current.apply(this,[].slice.call(arguments))}},[e,t])}var j=function(e,t,o){void 0===o&&(o=window);var r=i();n(function(){r.current=t},[t]),n(function(){if(o&&o.addEventListener){var n=function(e){return r.current(e)};return o.addEventListener(e,n),function(){o.removeEventListener(e,n)}}},[e,o])};function R(){return t(function(){return c()},[])}var I=function(e,t){var o=i();n(function(){o.current=e}),n(function(){if(null!==t){var e=setInterval(function(){o.current()},t);return function(){return clearInterval(e)}}},[t])},T=function(){var n=r(void 0),t=n[0],o=n[1],i=e(function(){o("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);return O(function(){return i(),window.addEventListener("resize",i,!1),function(){window.removeEventListener("resize",i,!1)}},[]),t},D=function(t){var o=void 0===t?{}:t,u=o.root,c=void 0===u?null:u,a=o.rootMargin,s=void 0===a?"0px":a,d=o.threshold,f=void 0===d?1:d,l=o.once,v=void 0!==l&&l,m=i(),h=i(),g=r(!1),w=g[0],p=g[1],y=e(function(e){p(e[0].isIntersecting)},[]);return n(function(){return m.current=new IntersectionObserver(y,{root:c,rootMargin:s,threshold:f}),h.current&&m.current.observe(h.current),function(){m.current.disconnect()}},[y]),n(function(){v&&w&&m.current.disconnect()},[w]),{setRef:function(e){h.current||(h.current=e)},inView:w}},_=function(n){var t=r(void 0),o=t[0],i=t[1],u=e(function(e){i(e.matches)},[]);return O(function(){var e=window.matchMedia(n);return u(e),e.addEventListener("change",u),function(){e.removeEventListener("change",u)}}),o},P=function(e,n){"function"==typeof e?e(n):e&&(e.current=n)},Y=function(e,n){return t(function(){return null==e&&null==n?null:function(t){P(e,t),P(n,t)}},[e,n])};function k(){return k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},k.apply(this,arguments)}function X(e,n){void 0===n&&(n=0);var t=n+e.offsetTop;return e.offsetParent?X(e.offsetParent,t):t}function A(e,n){void 0===n&&(n=0);var t=n+e.offsetLeft;return e.offsetParent?A(e.offsetParent,t):t}function M(e){var n=(void 0===e?{}:e).debounce,t=void 0===n?1e3:n,o=i(),u=r({top:void 0,left:void 0,width:void 0,height:void 0}),c=u[0],s=u[1],d=function(){o.current&&s(function(e){return k({},e,{top:X(o.current),left:A(o.current)})})};O(function(){var e=a(t,d),n=new ResizeObserver(e);return n.observe(document.body),function(){n.disconnect(),e.cancel({upcomingOnly:!0})}},[t]);var f=function(e){var n=e[0].contentRect,t=n.width,o=n.height;s(function(e){return k({},e,{width:t,height:o})})},l=i();return[function(e){var n;e&&e!==o.current&&(null==(n=l.current)||n.disconnect(),l.current=new ResizeObserver(f),l.current.observe(e),o.current=e)},c,function(e,n){return c}]}var z=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var o=t(function(){return n&&[n].flat()},[n]),r=t(function(){return e&&[e].flat()},[e]),i=t(function(){return o&&r&&r.map(function(e){var n;return null==(n=o.find(function(n){return n.type===e}))?void 0:n.props.children})},[o,r]);return e[0]?i:i[0]},B=function(){var n=r(),t=n[0],o=n[1],i=e(function(){o({width:window.innerWidth,height:window.innerHeight})},[]);return O(function(){return window.addEventListener("resize",i),i(),function(){return window.removeEventListener("resize",i)}},[]),t},U=function(n,t){void 0===n&&(n=function(){}),void 0===t&&(t=function(){});var o=r(!0),i=o[0],u=o[1],c=e(function(){n(),u(!0)},[n]),a=e(function(){t(),u(!1)},[t]);return O(function(){return window.addEventListener("focus",c),window.addEventListener("blur",a),function(){window.removeEventListener("focus",c),window.removeEventListener("blur",a)}},[]),{focused:i}},W=function(e){var n=s(),t=n.asPath;O(function(){if(n.isReady&&e){var o=function(e){return e.split("#")[1]}(t);if(o)try{n.push({pathname:"/",hash:o})}catch(e){console.log("Error pushing route",e)}else window.scrollTo(0,0)}},[e])},F=function(e,n,t){return d(f(e,t),n)};function N(e,n){var t=e-window.innerWidth;return n>t?t:0>n?0:n}function K(e){var t=r(0),o=t[0],i=t[1];return n(function(){var n,t=null==e||null==(n=e.current)?void 0:n.scrollWidth;if(t){var o,r=a(function(e){var n=Math.round(e.touches[0].clientY-o);i(function(e){return N(t,e-n)})},16);return document.addEventListener("wheel",c),document.addEventListener("touchmove",r),document.addEventListener("touchstart",s),document.addEventListener("touchend",d),window.addEventListener("resize",u),function(){document.removeEventListener("wheel",c),document.removeEventListener("touchmove",r),document.removeEventListener("touchstart",s),document.removeEventListener("touchend",d),window.removeEventListener("resize",u)}}function u(){var n;t=null==e||null==(n=e.current)?void 0:n.scrollWidth,i(0)}function c(e){var n=e.deltaY;i(function(e){return N(t,e+n)})}function s(e){o=e.touches[0].clientY}function d(){o=0}},[e,i]),o}var V="undefined"!=typeof performance?performance:Date,q=function(){return V.now()};function H(t,o,r){void 0===o&&(o=30),void 0===r&&(r=!1);var u,c,a=(c=i(u=t),n(function(){c.current=u}),c),s=1e3/o,d=i(0),f=i(),l=function(){return f.current&&clearTimeout(f.current)},v=[o,r,a];return n(function(){return function(){d.current=0,l()}},v),e(function(){var e=arguments,n=q(),t=function(){d.current=n,l(),a.current.apply(null,e)},o=d.current;if(r&&0===o)return t();if(n-o>s){if(o>0)return t();d.current=n}l(),f.current=setTimeout(function(){t(),d.current=0},s)},v)}function G(e,n,t){var o=useState(e);return[o[0],H(o[1],n,t)]}function J(e,n){void 0===n&&(n={});var t=n.fps,o=void 0===t?30:t,r=n.enterDelay,i=void 0===r?0:r,c=n.leaveDelay,a=void 0===c?0:c,s=u(function(e,n){var t=e.mouse,o=e.context,r=function(e,n){if("undefined"==typeof window)return e;var t,o=n.event,r=(t="touches"in o?o.touches[0]:o).clientX,i=t.clientY,u=t.screenX,c=t.screenY,a=t.pageX,s=void 0===a?0:a,d=t.pageY,f=void 0===d?0:d,l=n.element.getBoundingClientRect(),v=s-l.left-(window.pageXOffset||window.scrollX),m=f-l.top-(window.pageYOffset||window.scrollY);return"touches"in o&&(v<0||m<0||v>l.width||m>l.height)?Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e.context),{hoverStatus:"leave",touchStatus:"end"})}):{context:Object.assign(Object.assign({},e.context),{hoverStatus:"enter"}),mouse:Object.assign(Object.assign({},e.mouse),{x:v,y:m,pageX:s,pageY:f,clientX:r,clientY:i,screenX:u,screenY:c,elementWidth:l.width,elementHeight:l.height,isOver:!0,isTouch:"touches"in o})}};return"mousemove"===n.type?"end"===o.touchStatus?e:r(e,n):"touchmove"===n.type?r({context:Object.assign(Object.assign({},o),{touchStatus:"start"}),mouse:t},n):"touchdown"===n.type?r({context:Object.assign(Object.assign({},o),{touchStatus:"start"}),mouse:Object.assign(Object.assign({},t),{isDown:!0})},n):"mousedown"===n.type?{context:o,mouse:Object.assign(Object.assign({},t),{isDown:!0})}:"mouseup"===n.type?{context:o,mouse:Object.assign(Object.assign({},t),{isDown:!1})}:"mouseleave"===n.type?{context:Object.assign(Object.assign({},o),{hoverStatus:"leave"}),mouse:Object.assign(Object.assign({},t),{isOver:!1})}:"touchleave"===n.type?{context:Object.assign(Object.assign({},o),{hoverStatus:"leave",touchStatus:"end"}),mouse:Object.assign(Object.assign({},t),{isOver:!1,isDown:!1})}:"activeStatus"===n.type?{context:Object.assign(Object.assign({},o),{activeStatus:n.value}),mouse:t}:e},{mouse:Q,context:Z}),d=s[0],f=s[1],l=G(function(n){var t=e&&"current"in e?e.current:e;t&&f({type:"mousemove",event:n,element:t})},o,!0),v=G(function(n){var t=e&&"current"in e?e.current:e;t&&f({type:"touchmove",event:n,element:t})},o,!0),m=G(function(){return f({type:"mouseleave"})},o,!1),h=G(function(n){var t=e&&"current"in e?e.current:e;t&&f("touches"in n?{type:"touchdown",element:t,event:n}:{type:"mousedown",element:t,event:n})},o,!0),g=G(function(){return f({type:"mouseup"})},o,!1),w=G(function(){return f({type:"touchleave"})},o,!1);return C(e,"mouseenter",l),C(e,"mousemove",l),C(e,"mouseleave",m),C(e,"mousedown",h),C("undefined"!=typeof window?window:null,"mousedown",h),C("undefined"!=typeof window?window:null,"mouseup",g),C(e,"touchstart",h),C(e,"touchmove",v),C(e,"touchend",w),C(e,"touchcancel",w),useEffect(function(){if("enter"===d.context.hoverStatus){if(i){var e=setTimeout(function(){return f({type:"activeStatus",value:"active"})},i);return function(){return clearTimeout(e)}}f({type:"activeStatus",value:"active"})}else{if(a){var n=setTimeout(function(){return f({type:"activeStatus",value:"inactive"})},a);return function(){return clearTimeout(n)}}f({type:"activeStatus",value:"inactive"})}},[d.context.hoverStatus,i,a]),"active"===d.context.activeStatus?d.mouse:Q}var Q={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:!1,isDown:!1,isTouch:!1},Z={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};function $(){var e=r({x:null,y:null}),t=e[0],o=e[1];return n(function(){var e=function(e){o({x:e.clientX,y:e.clientY})};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}},[]),t}var ee=function(){var e=B(),n=e.width,t=e.height,o=$(),r=o.x,i=o.y;return{direction:r>n/2&&i>t/2?"se":r<n/2&&i>t/2?"sw":r>n/2&&i<t/2?"ne":"nw",hasMovedCursor:"number"==typeof r&&"number"==typeof i}},ne=function(e,t){var o=$(),r=o.x,i=o.y,u=l(0),c=l(0),a=l(0),s=l(0),d=l(0),f=l(0),h=v("translate("+u.get()+"px, "+a.get()+"px) rotate("+d.get()+"deg)"),g="brightness("+f.get()+")";return n(function(){var n=e.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),c=Math.abs(r-n.left)-o.width/2,s=Math.abs(i-n.top)-o.height/2;u.set(c),a.set(s)},[r,i]),n(function(){function e(){var e={x:c.get()-u.get(),y:s.get()-a.get()};c.set(E(c.get(),u.getPrevious(),.08)),s.set(E(s.get(),a.getPrevious(),.08));var n,t=(n=Math.abs(e.x))<=0?0:n>=100?100:n,o=y(t,0,100,0,e.x<0?33:-33);m(d,o,{duration:.25,ease:"linear"});var r=y(t,0,100,1,3);f.set(r)}var n=u.onChange(e),t=a.onChange(e);return function(){n(),t()}},[]),{transform:h,filter:g}},te=function(e,n){return f(e,[0,1],[-n,n])},oe=h(!1,function(e){void 0===e&&(e=940);var t=r(!1),o=t[0],i=t[1];return n(function(){function n(){var n=window.innerWidth;i(n<e)}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}},[]),o}),re=function(){var n=e(function(){"undefined"!=typeof window&&(localStorage.getItem("theme")?"light"===localStorage.getItem("theme")?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")))},[]),t=e(function(){return"undefined"!=typeof window?localStorage.getItem("theme"):null},[]);return O(function(){localStorage.getItem("theme")&&("light"===localStorage.getItem("theme")?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"))},[n]),{toggle:n,getTheme:t}},ie=function(e,t,o){void 0===t&&(t=[0]),void 0===o&&(o=null);var i=r(!1),u=i[0],c=i[1],a=d(0,{damping:400,friction:100});return n(function(){var n=new IntersectionObserver(function(e){var n=e[0];n.isIntersecting?(c(!0),a.set(n.intersectionRatio)):c(!1)},{root:o,rootMargin:"0px 0px 0px 0px",threshold:t});return n.observe(e.current),function(){return n.disconnect()}},[e,t,o,a]),{inView:u,springValue:a}},ue=function(){return O(function(){var e="font-size:15px;";console.log("%cFOMOLOL Police 🚨","color:red; font-size:65px; font-weight:bold; -webkit-text-stroke: 1px black"),console.log("%cThis is a browser feature intended for developers. If someone told you to copy-paste something here, it is a scam and could give them access to your wallet.",e),console.log("%cIf you need a job see https://jobs.fomolol.com for more info.",e)},[]),null},ce=function(e){var n=e.cookieAcceptKey,t=e.onAccepted,o=e.onDeclined,i=r(),u=i[0],c=i[1];return O(function(){null!==window.localStorage.getItem(process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY||n)?(c(!0),t()):(c(!1),o())},[]),u},ae=function(t){var o=r(!1),i=o[0],u=o[1],c=e(function(){i||u(function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select();var o=document.execCommand("copy");return document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t)),o}(t))},[t]);return n(function(){return function(){return u(!1)}},[t]),[i,c]},se=function(e,n){void 0===e&&(e="header-not-at-top"),void 0===n&&(n="#top-of-site-pixel-anchor");var t,o,r=function(){document.documentElement.dataset.scroll=window.scrollY};document.addEventListener("scroll",(t=r,function(){var e=arguments;o&&cancelAnimationFrame(o),o=requestAnimationFrame(function(){t.apply(void 0,[].slice.call(e))})}),{passive:!0}),r(),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&new IntersectionObserver(function(n){n[0].boundingClientRect.y<0?document.body.classList.add(e):document.body.classList.remove(e)}).observe(document.querySelector(n))},de=function(n){var t=n.title,o=void 0===t?"":t,r=n.width,u=void 0===r?500:r,c=n.height,a=void 0===c?1050:c,s=n.url,d=n.storageKey,f=void 0===d?"FOMOLOL_TEMP_DATA":d,l=n.onCreate,v=void 0===l?function(e){return console.log("Created a window with url",e)}:l,m=n.onData,h=void 0===m?function(e){return console.log("data",e)}:m,g=n.onClose,w=void 0===g?function(){}:g,p=n.onError,y=void 0===p?function(e){return console.log("Popup error",error)}:p,E=i(),O=i(),b=e(function(){try{var e=localStorage.getItem(f);if(e){var n,t=JSON.parse(e);h(t),window.localStorage.removeItem(f),null==(n=E.current)||n.close(),window.removeEventListener("storage",b)}}catch(e){y(e),window.removeEventListener("storage",b)}},[h,y,f,E]),L=e(function(e){var n,t=e.url,o=e.title,r=e.height,i=e.width,u=e.onClose,c="width="+i+",height="+r+",left="+(window.screenX+(window.outerWidth-i)/2)+",top="+(window.screenY+(window.outerHeight-r)/2.5);null===E.current||null!=(n=E.current)&&n.closed?E.current=window.open(t,o,c):O.current!==t?(E.current=window.open(t,o,c),E.current.focus()):E.current.focus(),window.addEventListener("storage",b),window.addEventListener("beforeunload",function(){u()},!1),O.current=t,v(t)},[E,b]);return{onClick:e(function(){L({url:s,title:o,width:u,height:a,onData:h,onClose:w,onError:y,storageKey:f})},[L,s,o,u,a,h,w,y,f])}},fe=function(e,t){var o=i();n(function(){o.current=e},[e]),n(function(){if(null!==t){var e=setTimeout(function(){o.current()},1e3*t);return function(){return clearTimeout(e)}}},[t])},le=function(e,t){void 0===t&&(t="2d");var o=i(null);return n(function(){var n=o.current.getContext(t),r=requestAnimationFrame(function t(){r=requestAnimationFrame(t),e(n)});return function(){return cancelAnimationFrame(r)}},[e,t]),o},ve=function(n,t){var o=e(function(){t({type:"ADD_CURSOR_BORDER"})},[t]),r=e(function(){t({type:"REMOVE_CURSOR_BORDER"})},[t]);return k({},n,{addCursorColor:e(function(e){t({type:"ADD_CURSOR_COLOR",payload:e})},[t]),resetCursorColor:e(function(){t({type:"RESET_CURSOR_COLOR"})},[t]),addCursorBorder:o,removeCursorBorder:r,lockCursorPosition:e(function(e){t({type:"LOCK_CURSOR_POSITION",payload:e})},[t])})};export{S as dispatch,le as useCanvas,ae as useClipboard,ce as useCookieBanner,ve as useCursorStyle,ue as useCustomConsole,w as useDebug,b as useDocumentReadyState,C as useEvent,x as useEventBus,j as useEventListener,U as useFocus,Y as useForkRef,W as useHashScroll,K as useHorizontalScroll,ne as useHoverImage,R as useId,ie as useIntersectionObserver,I as useInterval,oe as useIsMobile,T as useIsTouchDevice,D as useIsVisible,O as useLayoutEffect,_ as useMediaQuery,J as useMouse,ee as useMouseDirection,$ as useMousePosition,g as useOutsideClickEvent,te as useParallax,de as usePopup,M as useRect,z as useSlots,F as useSmoothTransform,se as useSticky,re as useTheme,fe as useTimeout,B as useWindowSize};
//# sourceMappingURL=index.mjs.map
