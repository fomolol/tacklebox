import{useCallback as e,useEffect as t,useMemo as n,useLayoutEffect as o,useState as r,useRef as c}from"react";import{nanoid as s}from"nanoid";import{throttle as i}from"throttle-debounce";import{useRouter as d}from"next/router";import{useSpring as u,useTransform as a,useMotionValue as l,useMotionTemplate as m,animate as f}from"framer-motion";import{singletonHook as h}from"react-singleton-hook";function g(n,o){const r=e(e=>{n.current&&!n.current.contains(e.target)&&o()},[n,o]);t(()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[r])}const v=()=>n(()=>"undefined"!=typeof window&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV),[]),w="undefined"!=typeof window,p=(e,t,n,o,r)=>(e-t)*(r-o)/(n-t)+o,E=(e,t,n)=>(1-n)*e+n*t,y=w?o:t,L="undefined"!=typeof window?function(){const[e,t]=r(document.readyState);return y(()=>{function e(){t(document.readyState)}return t(document.readyState),document.addEventListener("readystatechange",e,!1),()=>document.removeEventListener("readystatechange",e,!1)},[]),e}:()=>{};let b=[];const I=e=>{let{type:t}=e;"string"==typeof e&&(t=e);const n=[];n.push("string"==typeof e?{type:t}:e),b.forEach(([e,o])=>{"string"==typeof e&&e!==t||("function"!=typeof e||e(...n))&&o(...n)})},x=(e,n,o=[])=>(t(()=>((e,t)=>{if(null!=e&&null!=t)return b=[...b,[e,t]],()=>{b=b.filter(e=>e[1]!==t)}})(e,n),[...o,n,e]),I);function P(){return n(()=>s(),[])}const S=(e,n)=>{const o=c();t(()=>{o.current=e}),t(()=>{if(null!==n){const e=setInterval(function(){o.current()},n);return()=>clearInterval(e)}},[n])},k=()=>{const[t,n]=r(void 0),o=e(()=>{n("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);return y(()=>(o(),window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o,!1)}),[]),t},O=({root:n=null,rootMargin:o="0px",threshold:s=1,once:i=!1}={})=>{const d=c(),u=c(),[a,l]=r(!1),m=e(e=>{const[t]=e;l(t.isIntersecting)},[]);return t(()=>(d.current=new IntersectionObserver(m,{root:n,rootMargin:o,threshold:s}),u.current&&d.current.observe(u.current),()=>{d.current.disconnect()}),[m]),t(()=>{i&&a&&d.current.disconnect()},[a]),{setRef:e=>{u.current||(u.current=e)},inView:a}},z=t=>{const[n,o]=r(void 0),c=e(e=>{o(e.matches)},[]);return y(()=>{const e=window.matchMedia(t);return c(e),e.addEventListener("change",c),()=>{e.removeEventListener("change",c)}}),n};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C.apply(this,arguments)}function M(e,t=0){const n=t+e.offsetTop;return e.offsetParent?M(e.offsetParent,n):n}function _(e,t=0){const n=t+e.offsetLeft;return e.offsetParent?_(e.offsetParent,n):n}function R({debounce:e=1e3}={}){const t=c(),[n,o]=r({top:void 0,left:void 0,width:void 0,height:void 0}),s=()=>{t.current&&o(e=>C({},e,{top:M(t.current),left:_(t.current)}))};y(()=>{const t=i(e,s),n=new ResizeObserver(t);return n.observe(document.body),()=>{n.disconnect(),t.cancel({upcomingOnly:!0})}},[e]);const d=([e])=>{const{width:t,height:n}=e.contentRect;o(e=>C({},e,{width:t,height:n}))},u=c();return[e=>{var n;e&&e!==t.current&&(null==(n=u.current)||n.disconnect(),u.current=new ResizeObserver(d),u.current.observe(e),t.current=e)},n,(e=0,t=0)=>n]}const T=(e=[],t=[])=>{const o=n(()=>t&&[t].flat(),[t]),r=n(()=>e&&[e].flat(),[e]),c=n(()=>o&&r&&r.map(e=>{var t;return null==(t=o.find(t=>t.type===e))?void 0:t.props.children}),[o,r]);return e[0]?c:c[0]},Y=()=>{const[t,n]=r(),o=e(()=>{n({width:window.innerWidth,height:window.innerHeight})},[]);return y(()=>(window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)),[]),t},A=(t=(()=>{}),n=(()=>{}))=>{const[o,c]=r(!0),s=e(()=>{t(),c(!0)},[t]),i=e(()=>{n(),c(!1)},[n]);return y(()=>(window.addEventListener("focus",s),window.addEventListener("blur",i),()=>{window.removeEventListener("focus",s),window.removeEventListener("blur",i)}),[]),{focused:o}},j=e=>{const t=d(),{asPath:n}=t;y(()=>{if(t.isReady&&e){const e=(e=>e.split("#")[1])(n);if(e)try{t.push({pathname:"/",hash:e})}catch(e){console.log("Error pushing route",e)}else window.scrollTo(0,0)}},[e])},K=(e,t,n)=>u(a(e,n),t);function W(e,t){const n=e-window.innerWidth;return t>n?n:0>t?0:t}function B(e){const[n,o]=r(0);return t(()=>{var t;let n,r=null==e||null==(t=e.current)?void 0:t.scrollWidth;if(!r)return;function c(){var t;r=null==e||null==(t=e.current)?void 0:t.scrollWidth,o(0)}function s({deltaY:e}){o(t=>W(r,t+e))}function d({touches:e}){n=e[0].clientY}function u(){n=0}const a=i(function({touches:e}){const t=Math.round(e[0].clientY-n);o(e=>W(r,e-t))},16);return document.addEventListener("wheel",s),document.addEventListener("touchmove",a),document.addEventListener("touchstart",d),document.addEventListener("touchend",u),window.addEventListener("resize",c),()=>{document.removeEventListener("wheel",s),document.removeEventListener("touchmove",a),document.removeEventListener("touchstart",d),document.removeEventListener("touchend",u),window.removeEventListener("resize",c)}},[e,o]),n}function G(){const[e,n]=r({x:null,y:null});return t(()=>{const e=e=>{const{clientX:t,clientY:o}=e;n({x:t,y:o})};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[]),e}const N=(e,n)=>{const{x:o,y:r}=G(),c=l(0),s=l(0),i=l(0),d=l(0),u=l(0),a=l(0),h=m(`translate(${c.get()}px, ${i.get()}px) rotate(${u.get()}deg)`),g=`brightness(${a.get()})`;return t(()=>{const t=e.current.getBoundingClientRect(),s=n.current.getBoundingClientRect(),d=Math.abs(o-t.left)-s.width/2,u=Math.abs(r-t.top)-s.height/2;c.set(d),i.set(u)},[o,r]),t(()=>{function e(){const e={x:s.get()-c.get(),y:d.get()-i.get()};s.set(E(s.get(),c.getPrevious(),.08)),d.set(E(d.get(),i.getPrevious(),.08));const t=(n=Math.abs(e.x))<=0?0:n>=100?100:n;var n;const o=p(t,0,100,0,e.x<0?33:-33);f(u,o,{duration:.25,ease:"linear"});const r=p(t,0,100,1,3);a.set(r)}const t=c.onChange(e),n=i.onChange(e);return()=>{t(),n()}},[]),{transform:h,filter:g}},V=(e,t)=>a(e,[0,1],[-t,t]),$=h(!1,(e=940)=>{const[n,o]=r(!1);return t(()=>{function t(){var t=window.innerWidth;o(t<e)}return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),n}),H=()=>{const t=e(()=>{"undefined"!=typeof window&&(localStorage.getItem("theme")?"light"===localStorage.getItem("theme")?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")))},[]),n=e(()=>"undefined"!=typeof window?localStorage.getItem("theme"):null,[]);return y(()=>{localStorage.getItem("theme")&&("light"===localStorage.getItem("theme")?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"))},[t]),{toggle:t,getTheme:n}},X=(e,n=[0],o=null)=>{const[c,s]=r(!1),i=u(0,{damping:400,friction:100});return t(()=>{const t=new IntersectionObserver(([e])=>{e.isIntersecting?(s(!0),i.set(e.intersectionRatio)):s(!1)},{root:o,rootMargin:"0px 0px 0px 0px",threshold:n});return t.observe(e.current),()=>t.disconnect()},[e,n,o,i]),{inView:c,springValue:i}},U=()=>(y(()=>{var e="font-size:15px;";console.log("%cFOMOLOL Police ðŸš¨","color:red; font-size:65px; font-weight:bold; -webkit-text-stroke: 1px black"),console.log("%cThis is a browser feature intended for developers. If someone told you to copy-paste something here, it is a scam and could give them access to your wallet.",e),console.log("%cIf you need a job see https://jobs.fomolol.com for more info.",e)},[]),null),q=({cookieAcceptKey:e})=>{const[t,n]=r();return y(()=>{const t=window.localStorage.getItem(process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY||e);n(null!==t)},[]),t},D=n=>{const[o,c]=r(!1),s=e(()=>{o||c((e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select();const o=document.execCommand("copy");return document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),o})(n))},[n]);return t(()=>()=>c(!1),[n]),[o,s]},F=(e="pokemon")=>{const[t,n]=r(null),[o,c]=r(!1);return useEffect(()=>{if(e&&!t&&!o)try{c(!0),require("giphy-api")(process.env.GIPHY_API_KEY||process.env.NEXT_PUBLIC_GIPHY_API_KEY).search(e,(e,t)=>{if(200===t.meta.status){const e=Math.floor(Math.random()*(t.data.length-1)+1),o=t.data[e];if(o&&o.images){console.log("randomGif",o);const{images:e}=o,{webp:t}=null==e?void 0:e.fixed_width;n({data:o,url:t}),c(!1)}}else c(!1),console.error(t.meta.msg,e)})}catch(e){c(!1),console.error("Error occurred initializing Giphy API",e)}},[t,o,e]),[o,t]};export{I as dispatch,D as useClipboard,q as useCookieBanner,U as useCustomConsole,v as useDebug,L as useDocumentReadyState,x as useEventBus,A as useFocus,F as useGiphy,j as useHashScroll,B as useHorizontalScroll,N as useHoverImage,P as useId,X as useIntersectionObserver,S as useInterval,$ as useIsMobile,k as useIsTouchDevice,O as useIsVisible,y as useLayoutEffect,z as useMediaQuery,G as useMousePosition,g as useOutsideClickEvent,V as useParallax,R as useRect,T as useSlots,K as useSmoothTransform,H as useTheme,Y as useWindowSize};
//# sourceMappingURL=index.modern.mjs.map
