{"version":3,"file":"index.umd.js","sources":["../src/misc/util.js","../src/hooks/use-isomorphic-layout-effect.js","../src/hooks/use-document-ready-state.js","../src/hooks/use-event-bus.js","../src/hooks/use-fork-ref.js","../src/hooks/use-rect.js","../src/hooks/use-slots.js","../src/hooks/use-window-size.js","../src/hooks/use-horizontal-scroll.js","../src/hooks/use-mouse-position.js","../src/hooks/use-mouse-direction.js","../src/hooks/use-is-mobile.js","../src/hooks/use-canvas.js","../src/hooks/use-clipboard.js","../src/hooks/use-cookie-banner.js","../src/hooks/use-cursor-style.js","../src/hooks/use-custom-console.js","../src/hooks/use-debug.js","../src/hooks/use-focus.js","../src/hooks/use-giphy.js","../src/hooks/use-next-hash-scroll.js","../src/hooks/use-hover-image.js","../src/hooks/use-id.js","../src/hooks/use-intersection-observer.js","../src/hooks/use-interval.js","../src/hooks/use-is-touch-device.js","../src/hooks/use-is-visible.js","../src/hooks/use-matter-js.js","../src/hooks/use-media-query.js","../src/hooks/use-click-outside-event.js","../src/hooks/use-paper-js.js","../src/hooks/use-parallax.js","../src/hooks/use-popup.js","../src/hooks/use-smooth-transform.js","../src/hooks/use-sticky.js","../src/hooks/use-theme.js","../src/hooks/use-timeout.js"],"sourcesContent":["export const isBrowser = typeof window !== 'undefined'\n\n/**\n * @file isTouchDevice.js\n * @see https://medium.com/@jaredloson/custom-javascript-cursor-in-react-d7ffefb2db38\n */\nexport const isTouchDevice =\n  'ontouchstart' in window ||\n  navigator.MaxTouchPoints > 0 ||\n  navigator.msMaxTouchPoints > 0\n\nexport const noop = () => {}\n\nexport const on = (obj, ...args) => {\n  if (obj && obj.addEventListener) {\n    obj.addEventListener(...args)\n  }\n}\n\nexport const off = (obj, ...args) => {\n  if (obj && obj.removeEventListener) {\n    obj.removeEventListener(...args)\n  }\n}\n\n/* Scale a value from one range to another\n * Example of use:\n *\n * // Convert 33 from a 0-100 range to a 0-65535 range\n * var n = scaleValue(33, [0,100], [0,65535]);\n *\n * // Ranges don't have to be positive\n * var n = scaleValue(0, [-50,+50], [0,65535]);\n *\n * Ranges are defined as arrays of two values, inclusive\n *\n * The ~~ trick on return value does the equivalent of Math.floor, just faster.\n *\n */\nexport const scaleValue = (value, from, to) => {\n  var scale = (to[1] - to[0]) / (from[1] - from[0])\n  var capped = Math.min(from[1], Math.max(from[0], value)) - from[0]\n  return ~~(capped * scale + to[0])\n}\n\n/**\n * map\n * Map number x from range [a, b] to [c, d]\n * @param {*} x\n * @param {*} a\n * @param {*} b\n * @param {*} c\n * @param {*} d\n * @returns\n */\nexport const map = (x, a, b, c, d) => ((x - a) * (d - c)) / (b - a) + c\n\n/**\n * lerp\n * Linear interpolation\n * @param {*} a\n * @param {*} b\n * @param {*} n\n * @returns\n */\nexport const lerp = (a, b, n) => (1 - n) * a + n * b\n\nexport const clamp = (num, min, max) =>\n  num <= min ? min : num >= max ? max : num\n\n/**\n * getMousePos\n * Gets the mouse position\n * @param {*} ev\n * @returns\n */\nexport const getMousePos = (ev) => {\n  return {\n    x: ev.clientX,\n    y: ev.clientY,\n  }\n}\n","import { useEffect, useLayoutEffect as vanillaUseLayoutEffect } from 'react'\nimport { isBrowser } from '../misc/util'\n\nexport const useLayoutEffect = isBrowser ? vanillaUseLayoutEffect : useEffect\n\nexport default useLayoutEffect\n","import { useState } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nfunction _useDocumentReadyState() {\n  const [readyState, setReadyState] = useState(document.readyState)\n\n  useLayoutEffect(() => {\n    setReadyState(document.readyState)\n\n    function onStateChange() {\n      setReadyState(document.readyState)\n    }\n\n    document.addEventListener('readystatechange', onStateChange, false)\n\n    return () =>\n      document.removeEventListener('readystatechange', onStateChange, false)\n  }, [])\n\n  return readyState\n}\n\nexport const useDocumentReadyState =\n  typeof window !== 'undefined' ? _useDocumentReadyState : () => undefined\n\nexport default useDocumentReadyState\n","import { useEffect } from 'react'\n\nlet subscribers = []\n\nconst subscribe = (filter, callbackFn) => {\n  if (filter === undefined || filter === null) return undefined\n  if (callbackFn === undefined || callbackFn === null) return undefined\n\n  subscribers = [...subscribers, [filter, callbackFn]]\n\n  return () => {\n    subscribers = subscribers.filter(\n      (subscriber) => subscriber[1] !== callbackFn\n    )\n  }\n}\n\nexport const dispatch = (event) => {\n  let { type } = event\n  if (typeof event === 'string') type = event\n\n  const args = []\n  if (typeof event === 'string') args.push({ type })\n  else args.push(event)\n\n  subscribers.forEach(([filter, callbackFn]) => {\n    if (typeof filter === 'string' && filter !== type) return\n    if (typeof filter === 'function' && !filter(...args)) return\n    callbackFn(...args)\n  })\n}\n\nexport const useEventBus = (type, callback, deps = []) => {\n  /* eslint-disable */\n  useEffect(() => subscribe(type, callback), [...deps, callback, type])\n  /* eslint-enable */\n\n  return dispatch\n}\n\nexport default useEventBus\n","import { useMemo } from 'react'\n\nconst setRef = (ref, value) => {\n  if (typeof ref === 'function') {\n    ref(value)\n  } else if (ref) {\n    ref.current = value\n  }\n}\n\n/**\n * useForkRef\n * @param {*} refA\n * @param {*} refB\n * @returns\n */\nconst useForkRef = (refA, refB) => {\n  /**\n   * This will create a new function if the ref props change and are defined.\n   * This means react will call the old forkRef with `null` and the new forkRef\n   * with the ref. Cleanup naturally emerges from this behavior.\n   */\n  return useMemo(() => {\n    if (refA == null && refB == null) {\n      return null\n    }\n    return (refValue) => {\n      setRef(refA, refValue)\n      setRef(refB, refValue)\n    }\n  }, [refA, refB])\n}\n\nexport default useForkRef\n","import { useRef, useState } from 'react'\nimport { throttle } from 'throttle-debounce'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport function offsetTop(element, accumulator = 0) {\n  const top = accumulator + element.offsetTop\n  if (element.offsetParent) {\n    return offsetTop(element.offsetParent, top)\n  }\n  return top\n}\n\nexport function offsetLeft(element, accumulator = 0) {\n  const left = accumulator + element.offsetLeft\n  if (element.offsetParent) {\n    return offsetLeft(element.offsetParent, left)\n  }\n  return left\n}\n\nexport default function useRect({ debounce = 1000 } = {}) {\n  const element = useRef()\n\n  const [rect, setRect] = useState({\n    top: undefined,\n    left: undefined,\n    width: undefined,\n    height: undefined,\n  })\n\n  const resize = () => {\n    if (element.current) {\n      setRect((prev) => ({\n        ...prev,\n        top: offsetTop(element.current),\n        left: offsetLeft(element.current),\n      }))\n    }\n  }\n\n  // resize if body height changes\n  useLayoutEffect(() => {\n    const callback = throttle(debounce, resize)\n    const resizeObserver = new ResizeObserver(callback)\n    resizeObserver.observe(document.body)\n\n    return () => {\n      resizeObserver.disconnect()\n      callback.cancel({ upcomingOnly: true })\n    }\n  }, [debounce])\n\n  const onResizeObserver = ([entry]) => {\n    const { width, height } = entry.contentRect\n\n    setRect((prev) => ({\n      ...prev,\n      width,\n      height,\n    }))\n  }\n\n  const resizeObserver = useRef()\n\n  const setRef = (node) => {\n    if (!node || node === element.current) return\n\n    resizeObserver.current?.disconnect()\n    resizeObserver.current = new ResizeObserver(onResizeObserver)\n\n    resizeObserver.current.observe(node)\n\n    element.current = node\n  }\n\n  const getRect = (x = 0, y = 0) => {\n    return rect\n  }\n\n  return [setRef, rect, getRect]\n}\n","// https://medium.com/swlh/bring-vue-named-slots-to-react-87684188f18e\n\nimport { useMemo } from 'react'\n\nexport const useSlots = (types = [], children = []) => {\n  const _children = useMemo(() => children && [children].flat(), [children])\n  const _types = useMemo(() => types && [types].flat(), [types])\n  const slots = useMemo(\n    () =>\n      _children &&\n      _types &&\n      _types.map(\n        // @ts-ignore\n        (type) => _children.find((el) => el.type === type)?.props.children\n      ),\n    [_children, _types]\n  )\n\n  return types[0] ? slots : slots[0]\n}\n\nexport default useSlots\n","/**\n * @file useWindowSize\n */\nimport { useCallback, useState } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\n// Usage\n// function App() {\n//   const size = useWindowSize();\n//   return (\n//     <div>\n//       {size.width}px / {size.height}px\n//     </div>\n//   );\n// }\n// Hook\nexport const useWindowSize = () => {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState()\n\n  // Handler to call on window resize\n  const handleResize = useCallback(() => {\n    // Set window width/height to state\n    setWindowSize({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    })\n  }, [])\n\n  useLayoutEffect(() => {\n    // Add event listener\n    window.addEventListener('resize', handleResize)\n    // Call handler right away so state gets updated with initial window size\n    handleResize()\n    // Remove event listener on cleanup\n    return () => window.removeEventListener('resize', handleResize)\n  }, []) // Empty array ensures that effect is only run on mount\n\n  return windowSize\n}\n\nexport default useWindowSize\n","import { useEffect, useState } from 'react'\nimport { throttle } from 'throttle-debounce'\n\n/**\n * checkIfInBoundaries\n * @param {*} width\n * @param {*} deltaY\n * @returns\n */\nfunction checkIfInBoundaries(width, deltaY) {\n  const maxWidth = width - window.innerWidth\n  if (deltaY > maxWidth) return maxWidth\n  if (0 > deltaY) return 0\n  return deltaY\n}\n\nexport function useHorizontalScroll(scrollableRef) {\n  const [x, setX] = useState(0)\n  useEffect(() => {\n    let scrollWidth = scrollableRef?.current?.scrollWidth\n    if (!scrollWidth) return\n    function handleResize() {\n      scrollWidth = scrollableRef?.current?.scrollWidth\n      setX(0)\n    }\n    let touchStart\n    function handleScroll({ deltaY }) {\n      setX((x) => checkIfInBoundaries(scrollWidth, x + deltaY))\n    }\n    function setTouchStart({ touches }) {\n      touchStart = touches[0].clientY\n    }\n    function handleSwipe({ touches }) {\n      const delta = Math.round(touches[0].clientY - touchStart)\n      setX((x) => checkIfInBoundaries(scrollWidth, x - delta))\n    }\n    function handleTouchEnd() {\n      touchStart = 0\n    }\n    const move = throttle(handleSwipe, 16)\n    document.addEventListener('wheel', handleScroll)\n    document.addEventListener('touchmove', move)\n    document.addEventListener('touchstart', setTouchStart)\n    document.addEventListener('touchend', handleTouchEnd)\n    window.addEventListener('resize', handleResize)\n    return () => {\n      document.removeEventListener('wheel', handleScroll)\n      document.removeEventListener('touchmove', move)\n      document.removeEventListener('touchstart', setTouchStart)\n      document.removeEventListener('touchend', handleTouchEnd)\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [scrollableRef, setX])\n  return x\n}\n\nexport default useHorizontalScroll\n","import { useEffect, useState } from 'react'\n\nexport function useMousePosition() {\n  const [mousePosition, setMousePosition] = useState({ x: null, y: null })\n\n  useEffect(() => {\n    const mouseMoveHandler = (event) => {\n      const { clientX, clientY } = event\n      setMousePosition({ x: clientX, y: clientY })\n    }\n    document.addEventListener('mousemove', mouseMoveHandler)\n\n    return () => {\n      document.removeEventListener('mousemove', mouseMoveHandler)\n    }\n  }, [])\n\n  return mousePosition\n}\n\nexport default useMousePosition\n","/**\n * useMouseDirection\n * Handles finding which quadrant of the screen the user is on.\n */\nimport { useMousePosition } from './use-mouse-position'\nimport { useWindowSize } from './use-window-size'\n\nexport const useMouseDirection = () => {\n  const { width, height } = useWindowSize()\n  const { x, y } = useMousePosition()\n\n  const hasMovedCursor = typeof x === 'number' && typeof y === 'number'\n\n  let se = x > width / 2 && y > height / 2\n  let ne = x > width / 2 && y < height / 2\n  let nw = x < width / 2 && y < height / 2\n  let sw = x < width / 2 && y > height / 2\n  return {\n    direction: se ? 'se' : sw ? 'sw' : ne ? 'ne' : 'nw',\n    hasMovedCursor,\n  }\n}\n\nexport default useMouseDirection\n","import { useState, useEffect } from 'react'\nimport { singletonHook } from 'react-singleton-hook'\n\nconst init = false\n\nconst useIsMobileImpl = (maxWidth = 940) => {\n  const [isMobile, set] = useState(false)\n\n  // Mobile check hack\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      var width = window.innerWidth\n      // var height = window.innerHeight;\n      if (width < maxWidth) {\n        set(true)\n      } else {\n        set(false)\n      }\n    }\n    // Add event listener\n    window.addEventListener('resize', handleResize)\n    // Call handler right away so state gets updated with initial window size\n    handleResize()\n    // Remove event listener on cleanup\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return isMobile\n}\n\nexport const useIsMobile = singletonHook(init, useIsMobileImpl)\n\nexport default useIsMobile\n","/**\n * useCanvas hook\n * @see https://gist.github.com/IcanDivideBy0/23552eb3aa196a9049670686d13de9de\n */\nimport { useRef, useEffect } from 'react'\n\n// Usage\n// function App() {\n//   const draw = React.useCallback((gl) => {\n//     gl.clearColor(0.0, 0.0, 0.0, 1.0)\n//     gl.clearDepth(1.0)\n//     gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n//   }, [])\n//   const canvasRef = useCanvas(draw, 'webgl2')\n\n//   return <canvas ref={canvasRef} width=\"800\" height=\"600\" />\n// }\n\n// Hook\nexport const useCanvas = (draw, context = '2d') => {\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext(context)\n    let animationFrameId = requestAnimationFrame(renderFrame)\n\n    function renderFrame() {\n      animationFrameId = requestAnimationFrame(renderFrame)\n      draw(ctx)\n    }\n\n    return () => cancelAnimationFrame(animationFrameId)\n  }, [draw, context])\n\n  return canvasRef\n}\n\nexport default useCanvas\n","/**\n * useClipboard\n * @param {*} text\n */\nimport { useEffect, useState, useCallback } from 'react'\n\nexport const useClipboard = (text) => {\n  const copyToClipboard = (str) => {\n    const el = document.createElement('textarea')\n    el.value = str\n    el.setAttribute('readonly', '')\n    el.style.position = 'absolute'\n    el.style.left = '-9999px'\n    document.body.appendChild(el)\n    const selected =\n      document.getSelection().rangeCount > 0\n        ? document.getSelection().getRangeAt(0)\n        : false\n    el.select()\n    const success = document.execCommand('copy')\n    document.body.removeChild(el)\n    if (selected) {\n      document.getSelection().removeAllRanges()\n      document.getSelection().addRange(selected)\n    }\n    return success\n  }\n\n  const [copied, setCopied] = useState(false)\n\n  const copy = useCallback(() => {\n    if (!copied) setCopied(copyToClipboard(text))\n  }, [text])\n  useEffect(() => () => setCopied(false), [text])\n\n  return [copied, copy]\n}\n\n// EXAMPLES\n// const TextCopy = (props) => {\n//   const [copied, copy] = useCopyToClipboard('Lorem ipsum')\n//   return (\n//     <div>\n//       <button onClick={copy}>Click to copy</button>\n//       <span>{copied && 'Copied!'}</span>\n//     </div>\n//   )\n// }\n\nexport default useClipboard\n","/**\n * @file useCookieBanner\n *\n * Handles the dependency code related to accepting a cookie banner notification prompt\n *\n * NOTE: You need to add a process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY to your env vars\n */\nimport { useState } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport const useCookieBanner = ({ cookieAcceptKey }) => {\n  const [cookieAccepted, setCookieAccepted] = useState()\n\n  useLayoutEffect(() => {\n    // Check to see if cookies were accepted\n    const acceptedCookies = window.localStorage.getItem(\n      process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY || cookieAcceptKey\n    )\n    if (acceptedCookies !== null) {\n      // NOTE: We need to actually store this information somewhere.\n      setCookieAccepted(true)\n    } else {\n      setCookieAccepted(false)\n    }\n  }, [])\n\n  return cookieAccepted\n}\n\nexport default useCookieBanner\n","/**\n * @file useCursorStyle\n * Helper to quickly change the cursor style.\n */\nimport { useCallback } from 'react'\n\n/**\n * See the CursorContext component in @fomolol/dope for more.\n *\n * You will need to pass the following from:\n * import { useCursor } from 'contexts/CursorContext/useCursorContext';\n * const [state, dispatch] = useCursor();\n *\n * @param {*} state\n * @param {*} dispatch\n * @returns\n */\nexport const useCursorStyle = (state, dispatch) => {\n  const addCursorBorder = useCallback(() => {\n    dispatch({ type: 'ADD_CURSOR_BORDER' })\n  }, [dispatch])\n\n  const removeCursorBorder = useCallback(() => {\n    dispatch({ type: 'REMOVE_CURSOR_BORDER' })\n  }, [dispatch])\n\n  const addCursorColor = useCallback(\n    (color) => {\n      dispatch({ type: 'ADD_CURSOR_COLOR', payload: color })\n    },\n    [dispatch]\n  )\n\n  const resetCursorColor = useCallback(() => {\n    dispatch({ type: 'RESET_CURSOR_COLOR' })\n  }, [dispatch])\n\n  const lockCursorPosition = useCallback(\n    (coordinates) => {\n      dispatch({ type: 'LOCK_CURSOR_POSITION', payload: coordinates })\n    },\n    [dispatch]\n  )\n\n  return {\n    ...state,\n    addCursorColor,\n    resetCursorColor,\n    addCursorBorder,\n    removeCursorBorder,\n    lockCursorPosition,\n  }\n}\n\nexport default useCursorStyle\n","/**\n * @file useCustomConsole\n *\n * Hook to generate a custom console message in the developer console.\n *\n * Usage: This shows up when you right click and select inspect element.\n * @returns\n */\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport const useCustomConsole = () => {\n  useLayoutEffect(() => {\n    var stopCss =\n      'color:red; font-size:65px; font-weight:bold; -webkit-text-stroke: 1px black'\n    var msgCss = 'font-size:15px;'\n\n    console.log('%cFOMOLOL Police 🚨', stopCss)\n    console.log(\n      `%cThis is a browser feature intended for developers. If someone told you to copy-paste something here, it is a scam and could give them access to your wallet.`,\n      msgCss\n    )\n    console.log(\n      '%cIf you need a job see https://jobs.fomolol.com for more info.',\n      msgCss\n    )\n  }, [])\n\n  return null\n}\n\nexport default useCustomConsole\n","import { useMemo } from 'react'\n\nexport const useDebug = () => {\n  const debug = useMemo(\n    () =>\n      typeof window !== 'undefined'\n        ? window.location.href.includes('#debug') ||\n          process.env.NODE_ENV === 'development' ||\n          process.env.NEXT_PUBLIC_DEBUG_MODE ||\n          process.env.NEXT_PUBLIC_DEBUG\n        : false,\n    []\n  )\n  return debug\n}\n\nexport default useDebug\n","/**\n * @file useFocus\n */\nimport { useState, useCallback } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport const useFocus = (onFocus = () => {}, onBlur = () => {}) => {\n  const [focused, setFocused] = useState(true)\n\n  const onFocusHandler = useCallback(() => {\n    onFocus()\n    setFocused(true)\n  }, [onFocus])\n\n  const onBlurHandler = useCallback(() => {\n    onBlur()\n    setFocused(false)\n  }, [onBlur])\n\n  useLayoutEffect(() => {\n    window.addEventListener('focus', onFocusHandler)\n    window.addEventListener('blur', onBlurHandler)\n\n    // Specify how to clean up after this effect:\n    return () => {\n      window.removeEventListener('focus', onFocusHandler)\n      window.removeEventListener('blur', onBlurHandler)\n    }\n  }, [])\n\n  return { focused }\n}\n\nexport default useFocus\n","/**\n * @file useGiphy.js\n * Ensure you have a GIPHY_API_KEY environment variable in your .env file\n */\nimport { useState } from 'react'\n\nexport const useGiphy = (query = 'pokemon') => {\n  const [gif, setGif] = useState(null)\n  const [loading, setLoading] = useState(false)\n\n  // Get an animated gif\n  useEffect(() => {\n    if (query && !gif && !loading) {\n      try {\n        setLoading(true)\n        const giphy = require('giphy-api')(\n          process.env.GIPHY_API_KEY || process.env.NEXT_PUBLIC_GIPHY_API_KEY\n        )\n        // Search with a plain string using callback\n        giphy.search(query, (err, res) => {\n          // Res contains gif data!\n          if (res.meta.status === 200) {\n            const randomGifIndex = Math.floor(\n              Math.random() * (res.data.length - 1) + 1\n            )\n            const randomGif = res.data[randomGifIndex]\n            //   console.log(\"randomGifIndex -> randomGif\", randomGifIndex, randomGif);\n            if (randomGif && randomGif.images) {\n              console.log('randomGif', randomGif)\n              const { images } = randomGif\n              const { webp: url } = images?.fixed_width\n              setGif({ data: randomGif, url })\n              setLoading(false)\n            }\n          } else {\n            setLoading(false)\n            console.error(res.meta.msg, err)\n          }\n        })\n      } catch (err) {\n        setLoading(false)\n        console.error('Error occurred initializing Giphy API', err)\n      }\n    }\n  }, [gif, loading, query])\n\n  return [loading, gif]\n}\n\nexport default useGiphy\n","/**\n * @file useHashScroll\n */\nimport { useRouter } from 'next/router'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nconst getHash = (asPath) => asPath.split('#')[1]\n\nexport const useHashScroll = (trigger) => {\n  const router = useRouter()\n  const { asPath } = router\n  useLayoutEffect(() => {\n    if (router.isReady && trigger) {\n      const hash = getHash(asPath)\n      if (hash) {\n        // window.location.hash = hash;\n        try {\n          router.push({\n            pathname: '/',\n            hash,\n          })\n        } catch (err) {\n          console.log('Error pushing route', err)\n        }\n      } else {\n        window.scrollTo(0, 0)\n      }\n    }\n  }, [trigger]) // WARNING: adding asPath and router will break it.\n}\n\nexport default useHashScroll\n","/**\n * @file useHoverImage.js\n * @see https://tympanus.net/codrops/2020/07/01/creating-a-menu-image-animation-on-hover/\n */\nimport { useEffect } from 'react'\nimport { useMotionTemplate, animate, useMotionValue } from 'framer-motion'\n\nimport { map, lerp, clamp } from '../misc/util'\nimport { useMousePosition } from './use-mouse-position'\n\n/**\n * useHoverImage\n * @returns\n */\nexport const useHoverImage = (ref, reveal) => {\n  const { x, y } = useMousePosition()\n\n  const tx = useMotionValue(0)\n  const txp = useMotionValue(0)\n  const ty = useMotionValue(0)\n  const typ = useMotionValue(0)\n  const rotationVal = useMotionValue(0)\n  const brightnessVal = useMotionValue(0)\n\n  const transform = useMotionTemplate(\n    `translate(${tx.get()}px, ${ty.get()}px) rotate(${rotationVal.get()}deg)`\n  )\n  const filter = `brightness(${brightnessVal.get()})`\n\n  // Update the motion value based on the mouse movement\n  useEffect(() => {\n    // new translation values\n    // the center of the image element is positioned where the mouse is\n    const bounds = ref.current.getBoundingClientRect()\n    const boundReveal = reveal.current.getBoundingClientRect()\n    const _tx = Math.abs(x - bounds.left) - boundReveal.width / 2\n    const _ty = Math.abs(y - bounds.top) - boundReveal.height / 2\n    tx.set(_tx)\n    ty.set(_ty)\n  }, [x, y])\n\n  useEffect(() => {\n    function update() {\n      // calculate the mouse distance (current vs previous cycle)\n      const direction = {\n        x: txp.get() - tx.get(),\n        y: typ.get() - ty.get(),\n      }\n\n      // set up the interpolated values\n      // for the first cycle, both the interpolated values need to be the same so there's no \"lerped\" animation between the previous and current state\n      txp.set(lerp(txp.get(), tx.getPrevious(), 0.08))\n      typ.set(lerp(typ.get(), ty.getPrevious(), 0.08))\n\n      const mouseDistanceX = clamp(Math.abs(direction.x), 0, 100)\n\n      // new rotation value\n      const tRotation = map(\n        mouseDistanceX,\n        0,\n        100,\n        0,\n        direction.x < 0 ? 33 : -33\n      )\n      animate(rotationVal, tRotation, {\n        duration: 0.25,\n        ease: 'linear',\n      })\n\n      // new filter value\n      const tBrightness = map(mouseDistanceX, 0, 100, 1, 3)\n      brightnessVal.set(tBrightness)\n    }\n\n    const unsubscribeX = tx.onChange(update)\n    const unsubscribeY = ty.onChange(update)\n\n    return () => {\n      unsubscribeX()\n      unsubscribeY()\n    }\n  }, [])\n\n  return {\n    transform,\n    filter,\n  }\n}\n\nexport default useHoverImage\n\n/**\n * Integration Example\n */\n/*\n import { useState, useRef, useEffect } from 'react';\n import {\n   animate,\n   motion,\n   useMotionValue,\n   AnimatePresence,\n } from 'framer-motion';\n \n const MenuImageHover = ({\n   tagName: Tag = 'div',\n   className = 'relative flex items-center justify-center',\n   variant = 'default',\n   children = '',\n   src = '/img/pizza.gif',\n   alt = 'lorem ipsum',\n }) => {\n   const ref = useRef();\n   const reveal = useRef();\n   const [active, setActive] = useState(false);\n \n   const opacity = useMotionValue(0);\n   \n   // returns all of the motion values for the container\n   const { transform, filter } = useHoverImage(ref, reveal);\n \n   useEffect(() => {\n     if (active) {\n       animate(opacity, 1, {\n         duration: 1,\n         ease: easeInOutCirc,\n       });\n     } else {\n       animate(opacity, 0, {\n         duration: 1,\n         ease: easeInOutCirc,\n       });\n     }\n   }, [active]);\n \n   return (\n     <Tag\n       className={`${s.menu_image_hover} ${\n         s[`menu_image_hover__${variant}`]\n       } ${className}`}\n       onMouseOver={() => setActive(true)}\n       onMouseOut={() => setActive(false)}\n       ref={reveal}\n     >\n       <motion.div\n         className={`pointer-events-none absolute z-0 h-[calc(692px/1.5)] w-[calc(563px/1.5)] origin-center overflow-hidden`}\n         style={{\n           transform,\n           filter,\n           opacity,\n         }}\n       >\n         <AnimatePresence>\n           {active && (\n             <HoverImageContainer>\n               <HoverImage src={src} />\n             </HoverImageContainer>\n           )}\n         </AnimatePresence>\n       </motion.div>\n       <p ref={ref} className=\"relative z-10\">\n         {children}\n       </p>\n     </Tag>\n   );\n };\n */\n","import { nanoid } from 'nanoid'\nimport { useMemo } from 'react'\n\nexport function useId() {\n  const id = useMemo(() => nanoid(), [])\n\n  return id\n}\n\nexport default useId","/**\n * @see https://codesandbox.io/s/xwdsm?file=/src/useIntersectionObserver.js:0-985\n */\nimport { useState, useEffect } from 'react'\nimport { useSpring } from 'framer-motion'\n\nexport const useIntersectionObserver = (\n  target,\n  customThreshold = [0],\n  customRoot = null\n) => {\n  const [inView, setInView] = useState(false)\n  const springPhysics = { damping: 400, friction: 100 }\n  const springValue = useSpring(0, springPhysics)\n\n  useEffect(() => {\n    const observerCallback = ([entry]) => {\n      if (entry.isIntersecting) {\n        setInView(true)\n        springValue.set(entry.intersectionRatio)\n      } else {\n        setInView(false)\n      }\n    }\n\n    const observerOptions = {\n      root: customRoot,\n      rootMargin: '0px 0px 0px 0px',\n      threshold: customThreshold,\n    }\n\n    const observer = new IntersectionObserver(observerCallback, observerOptions)\n\n    observer.observe(target.current)\n\n    return () => observer.disconnect()\n  }, [target, customThreshold, customRoot, springValue])\n\n  return { inView, springValue }\n}\n\nexport default useIntersectionObserver\n","import { useEffect, useRef } from 'react'\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef()\n\n  useEffect(() => {\n    savedCallback.current = callback\n  })\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay)\n      return () => clearInterval(id)\n    }\n  }, [delay])\n}\n\nexport default useInterval\n","import { useCallback, useState } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport const useIsTouchDevice = () => {\n  const [isTouchDevice, setIsTouchDevice] = useState(undefined)\n\n  const onResize = useCallback(() => {\n    setIsTouchDevice(\n      'ontouchstart' in window ||\n        navigator.maxTouchPoints > 0 ||\n        navigator.msMaxTouchPoints > 0\n    )\n  }, [])\n\n  useLayoutEffect(() => {\n    onResize()\n    window.addEventListener('resize', onResize, false)\n\n    return () => {\n      window.removeEventListener('resize', onResize, false)\n    }\n  }, [])\n\n  return isTouchDevice\n}\n\nexport default useIsTouchDevice\n","import { useCallback, useEffect, useRef, useState } from 'react'\n\nexport const useIsVisible = ({\n  root = null,\n  rootMargin = '0px',\n  threshold = 1.0,\n  once = false,\n} = {}) => {\n  const observer = useRef()\n  const ref = useRef()\n  const [inView, setInView] = useState(false)\n\n  const setRef = (node) => {\n    if (!ref.current) {\n      ref.current = node\n    }\n  }\n\n  const callbackFunction = useCallback((entries) => {\n    const [entry] = entries\n    setInView(entry.isIntersecting)\n  }, [])\n\n  useEffect(() => {\n    observer.current = new IntersectionObserver(callbackFunction, {\n      root,\n      rootMargin,\n      threshold,\n    })\n    if (ref.current) observer.current.observe(ref.current)\n    return () => {\n      observer.current.disconnect()\n    }\n  }, [callbackFunction])\n\n  useEffect(() => {\n    if (once && inView) {\n      observer.current.disconnect()\n    }\n  }, [inView])\n\n  return { setRef, inView }\n}\n\nexport default useIsVisible\n","/**\n * @file useMatterJS.js\n * Hook to get started with MatterJS\n */\nimport { useMemo } from 'react'\nimport * as Matter from 'matter-js'\n\n// import MatterAttractors from 'matter-attractors';\n// import MatterWrap from 'matter-wrap';\n\nexport const useMatterJS = ({\n  ref,\n  width,\n  height,\n  wireframes = false,\n  hasBounds = true,\n  background = 'transparent',\n}) =>\n  useMemo(() => {\n    // Enable plugins\n    // Matter.Plugin.register(MatterAttractors);\n    Matter.use('matter-attractors')\n    Matter.use('matter-wrap')\n\n    // create an engine\n    const engine = Matter.Engine.create()\n    const { world, timing } = engine\n\n    timing.timeScale = 1.5\n\n    // create a renderer\n    const render = Matter.Render.create({\n      element: ref.current,\n      engine: engine,\n      options: {\n        hasBounds,\n        wireframes,\n        width,\n        height,\n        background,\n        // showDebug: true,\n        // showWireframes: false,\n        // showVelocity: true,\n        // showCollisions: true,\n        // showAxes: false,\n        // showPositions: true,\n        // showAngleIndicator: false,\n        // showIds: true,\n        // showShadows: false,\n      },\n    })\n\n    const { canvas } = render\n\n    // run the renderer\n    Matter.Render.run(render)\n\n    // create runner\n    const runner = Matter.Runner.create()\n    // run the engine\n    Matter.Runner.run(runner, engine)\n\n    // add mouse control\n    const mouse = Matter.Mouse.create(canvas)\n\n    const mouseConstraint = Matter.MouseConstraint.create(engine, {\n      mouse: mouse,\n      constraint: {\n        stiffness: 0.2,\n        render: {\n          visible: false,\n        },\n      },\n    })\n\n    Matter.World.add(world, mouseConstraint)\n\n    // keep the mouse in sync with rendering\n    render.mouse = mouse\n\n    // fit the render viewport to the scene\n    Matter.Render.lookAt(render, {\n      min: { x: 0, y: 0 },\n      max: { x: width, y: height },\n    })\n\n    // By default, MouseConstraint captures scroll events, to prevent this behaviour use the following snippet:\n    mouseConstraint.mouse.element.removeEventListener(\n      'mousewheel',\n      mouseConstraint.mouse.mousewheel\n    )\n    mouseConstraint.mouse.element.removeEventListener(\n      'DOMMouseScroll',\n      mouseConstraint.mouse.mousewheel\n    )\n\n    return {\n      loaded: true,\n      engine,\n      render,\n      runner,\n      mouse,\n    }\n  }, [ref, background, wireframes, hasBounds, height, width])\n\nexport default useMatterJS\n","import { useCallback, useState } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport const useMediaQuery = (queryString) => {\n  const [isMatch, setIsMatch] = useState(undefined)\n\n  const mqChange = useCallback((mq) => {\n    setIsMatch(mq.matches)\n  }, [])\n\n  useLayoutEffect(() => {\n    const mq = window.matchMedia(queryString)\n    mqChange(mq)\n\n    mq.addEventListener('change', mqChange)\n\n    return () => {\n      mq.removeEventListener('change', mqChange)\n    }\n  })\n\n  return isMatch\n}\n\nexport default useMediaQuery\n","import { useCallback, useEffect } from 'react'\n\nexport function useOutsideClickEvent(ref, callback) {\n  const handleClickOutside = useCallback(\n    (event) => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        callback()\n      }\n    },\n    [ref, callback]\n  )\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [handleClickOutside])\n}\n\nexport default useOutsideClickEvent\n","/**\n * @file usePaperJS\n * Helper to initial PaperJS\n */\nimport { useState } from 'react'\nimport Paper from 'paper'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\n/**\n *\n * @param {object} ref is a reference to the PaperJS canvas\n * @returns\n */\nexport const usePaperJS = ({ ref }) => {\n  const [project, setProject] = useState()\n\n  useLayoutEffect(() => {\n    if (!project && ref && ref.current) {\n      //   const ctx = ref.current.getContext('2d');\n      //   ctx.clearRect(0, 0, ref.current.width, ref.current.height);\n\n      // Instantiate the paperScope with the canvas element\n      // const _project = Paper.install(window);\n      // const _project = Paper.setup(ref.current);\n      const _project = new Paper.Project(ref.current)\n      setProject(_project)\n    }\n  }, [project, ref])\n\n  return project\n}\n\nexport default usePaperJS\n","import { useTransform } from 'framer-motion'\n\n/**\n * useParallax\n * @see https://codesandbox.io/s/framer-motion-parallax-i9gwuc?from-embed=&file=/src/App.tsx:214-345\n * @param {*} value\n * @param {*} distance\n * @returns\n */\nexport const useParallax = (value, distance) => {\n  return useTransform(value, [0, 1], [-distance, distance])\n}\n\nexport default useParallax\n","/**\n * @file usePopup.js\n * @see https://dev.to/dinkydani21/how-we-use-a-popup-for-google-and-outlook-oauth-oci\n * @see https://stackoverflow.com/questions/58732237/oauth-popup-cross-domain-security-react-js\n * Window popups are a pain in the arse in React, so this hook makes them easier to deal with.\n */\nimport { useCallback, useRef } from 'react'\n\n/**\n * usePopup\n * @param {*} props\n * @returns\n */\nexport const usePopup = ({\n  title = '',\n  width = 500,\n  height = 1050,\n  url,\n  storageKey = 'FOMOLOL_TEMP_DATA',\n  onCreate = (url) => console.log('Created a window with url', url),\n  onData = (data) => console.log('data', data),\n  onClose = () => {\n    return\n  },\n  onError = (err) => console.log('Popup error', error),\n}) => {\n  const externalWindow = useRef()\n  const previousUrl = useRef()\n\n  /**\n   * storageListener\n   * Watch for a change to the local storage\n   */\n  const storageListener = useCallback(() => {\n    try {\n      const data = localStorage.getItem(storageKey)\n      if (data) {\n        const parsed = JSON.parse(data)\n        onData(parsed)\n        window.localStorage.removeItem(storageKey) //remove data from localStorage\n        externalWindow.current?.close()\n        window.removeEventListener('storage', storageListener)\n      }\n    } catch (e) {\n      onError(e)\n      window.removeEventListener('storage', storageListener)\n    }\n  }, [onData, onError, storageKey, externalWindow])\n\n  /**\n   * createPopup\n   * @param {*} props\n   * @returns\n   */\n  const createPopup = useCallback(\n    ({ url, title, height, width, onError, onData, onClose, storageKey }) => {\n      //   Window props\n      const left = window.screenX + (window.outerWidth - width) / 2\n      const top = window.screenY + (window.outerHeight - height) / 2.5\n      const windowFeatures = `width=${width},height=${height},left=${left},top=${top}`\n\n      if (externalWindow.current === null || externalWindow.current?.closed) {\n        /* \n             if the pointer to the window object in memory does not exist\n             or if such pointer exists but the window was closed \n         */\n        externalWindow.current = window.open(url, title, windowFeatures)\n      } else if (previousUrl.current !== url) {\n        /* \n             if the resource to load is different,\n             then we load it in the already opened secondary window and then\n             we bring such window back on top/in front of its parent window. \n         */\n        externalWindow.current = window.open(url, title, windowFeatures)\n        externalWindow.current.focus()\n      } else {\n        /* \n             else the window reference must exist and the window\n             is not closed; therefore, we can bring it back on top of any other\n             window with the focus() method. There would be no need to re-create\n             the window or to reload the referenced resource. \n         */\n        externalWindow.current.focus()\n      }\n\n      window.addEventListener('storage', storageListener)\n\n      window.addEventListener(\n        'beforeunload',\n        () => {\n          onClose()\n        },\n        false\n      )\n\n      // add the listener for receiving a message from the popup\n      //   window.addEventListener('message', event => receiveMessage(event), false);\n      // assign the previous URL\n      previousUrl.current = url\n\n      onCreate(url)\n    },\n    [externalWindow, storageListener]\n  )\n\n  /**\n   * onClick\n   * A click event that you can apply to buttons.\n   * This will start the process and pop the pop\n   */\n  const onClick = useCallback(() => {\n    createPopup({\n      url,\n      title,\n      width,\n      height,\n      onData,\n      onClose,\n      onError,\n      storageKey,\n    })\n  }, [\n    createPopup,\n    url,\n    title,\n    width,\n    height,\n    onData,\n    onClose,\n    onError,\n    storageKey,\n  ])\n\n  return {\n    onClick,\n  }\n}\n\nexport default usePopup\n","/**\n * useSmoothTransform\n */\nimport { useSpring, useTransform } from 'framer-motion'\n\nexport const useSmoothTransform = (value, springOptions, transformer) => {\n  return useSpring(useTransform(value, transformer), springOptions)\n}\n\nexport default useSmoothTransform\n","/**\n * @file useSticky\n * @see https://css-tricks.com/styling-based-on-scroll-position/\n *\n * @param {string} className\n */\nexport const useSticky = (\n  className = 'header-not-at-top',\n  anchorId = '#top-of-site-pixel-anchor'\n) => {\n  // The debounce function receives our function as a parameter\n  const debounce = (fn) => {\n    // This holds the requestAnimationFrame reference, so we can cancel it if we wish\n    let frame\n\n    // The debounce function returns a new function that can receive a variable number of arguments\n    return (...params) => {\n      // If the frame variable has been defined, clear it now, and queue for next frame\n      if (frame) {\n        cancelAnimationFrame(frame)\n      }\n\n      // Queue our function call for the next frame\n      frame = requestAnimationFrame(() => {\n        // Call our function and pass any params we received\n        fn(...params)\n      })\n    }\n  }\n\n  // Reads out the scroll position and stores it in the data attribute\n  // so we can use it in our stylesheets\n  const storeScroll = () => {\n    document.documentElement.dataset.scroll = window.scrollY\n  }\n\n  // Listen for new scroll events, here we debounce our `storeScroll` function\n  document.addEventListener('scroll', debounce(storeScroll), { passive: true })\n\n  // Update scroll position for first time\n  storeScroll()\n\n  if (\n    'IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype\n  ) {\n    const observer = new IntersectionObserver((entries) => {\n      if (entries[0].boundingClientRect.y < 0) {\n        document.body.classList.add(className)\n      } else {\n        document.body.classList.remove(className)\n      }\n    })\n    observer.observe(document.querySelector(anchorId))\n  }\n}\n\nexport default useSticky\n","/**\n * useTheme hook\n */\nimport { useCallback } from 'react'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport const useTheme = () => {\n  const toggle = useCallback(() => {\n    if (typeof window === 'undefined') return\n    // if set via local storage previously\n    if (localStorage.getItem('theme')) {\n      if (localStorage.getItem('theme') === 'light') {\n        document.documentElement.classList.add('dark')\n        localStorage.setItem('theme', 'dark')\n      } else {\n        document.documentElement.classList.remove('dark')\n        localStorage.setItem('theme', 'light')\n      }\n\n      // if NOT set via local storage previously\n    } else {\n      if (document.documentElement.classList.contains('dark')) {\n        document.documentElement.classList.remove('dark')\n        localStorage.setItem('theme', 'light')\n      } else {\n        document.documentElement.classList.add('dark')\n        localStorage.setItem('theme', 'dark')\n      }\n    }\n  }, [])\n\n  const getTheme = useCallback(() => {\n    return typeof window !== 'undefined' ? localStorage.getItem('theme') : null\n  }, [])\n\n  useLayoutEffect(() => {\n    // if set via local storage previously\n    if (localStorage.getItem('theme')) {\n      if (localStorage.getItem('theme') === 'light') {\n        document.documentElement.classList.remove('dark')\n      } else {\n        document.documentElement.classList.add('dark')\n      }\n    }\n  }, [toggle])\n\n  return { toggle, getTheme }\n}\n\nexport default useTheme\n","/**\n * useTimeout\n */\n\n// EXAMPLES\n// const OneSecondTimer = (props) => {\n//   const [seconds, setSeconds] = React.useState(0)\n//   useTimeout(() => {\n//     setSeconds(seconds + 1)\n//   }, 1000)\n\n//   return <p>{seconds}</p>\n// }\n\nimport { useRef, useEffect } from 'react'\n\n// delay is in seconds\nexport const useTimeout = (callback, delay) => {\n  const savedCallback = useRef()\n\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n    if (delay !== null) {\n      const id = setTimeout(tick, delay * 1000)\n      return () => clearTimeout(id)\n    }\n  }, [delay])\n}\n\nexport default useTimeout\n"],"names":["isBrowser","map","x","a","b","c","d","n","useLayoutEffect","vanillaUseLayoutEffect","useEffect","useDocumentReadyState","window","useState","document","readyState","setReadyState","_useState","addEventListener","onStateChange","removeEventListener","subscribers","dispatch","event","type","args","push","forEach","_ref","filter","callbackFn","apply","setRef","ref","value","current","offsetTop","element","accumulator","top","offsetParent","left","offsetLeft","useSlots","windowSize","setWindowSize","useCallback","width","innerWidth","height","innerHeight","handleResize","checkIfInBoundaries","deltaY","maxWidth","useMousePosition","y","mousePosition","setMousePosition","mouseMoveHandler","clientX","clientY","useMouseDirection","useIsMobile","singletonHook","isMobile","set","draw","context","useRef","canvasRef","getContext","requestAnimationFrame","renderFrame","animationFrameId","ctx","cancelAnimationFrame","text","copied","setCopied","copy","str","el","createElement","setAttribute","style","position","body","appendChild","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange","success","copyToClipboard","cookieAcceptKey","cookieAccepted","setCookieAccepted","acceptedCookies","localStorage","getItem","process","env","NEXT_PUBLIC_COOKIE_ACCEPT_KEY","state","addCursorBorder","removeCursorBorder","_extends","addCursorColor","color","payload","resetCursorColor","lockCursorPosition","coordinates","msgCss","console","log","useMemo","location","href","includes","NODE_ENV","NEXT_PUBLIC_DEBUG_MODE","NEXT_PUBLIC_DEBUG","callback","deps","concat","subscriber","onFocus","onBlur","focused","setFocused","onFocusHandler","onBlurHandler","refA","refB","refValue","query","gif","setGif","loading","_useState2","setLoading","require","GIPHY_API_KEY","NEXT_PUBLIC_GIPHY_API_KEY","search","err","res","meta","status","randomGifIndex","Math","floor","random","data","length","randomGif","images","url","fixed_width","webp","error","msg","trigger","router","useRouter","asPath","isReady","hash","split","getHash","pathname","scrollTo","scrollableRef","setX","_scrollableRef$curren","scrollWidth","touchStart","throttle","_ref3","touches","delta","round","handleScroll","move","setTouchStart","handleTouchEnd","_scrollableRef$curren2","reveal","_useMousePosition","tx","useMotionValue","txp","ty","typ","rotationVal","brightnessVal","transform","useMotionTemplate","get","bounds","getBoundingClientRect","boundReveal","_tx","abs","_ty","update","lerp","getPrevious","num","mouseDistanceX","direction","tRotation","animate","duration","ease","tBrightness","onChange","unsubscribeY","unsubscribeX","useId","nanoid","target","customThreshold","customRoot","inView","setInView","springValue","useSpring","damping","friction","observer","IntersectionObserver","entry","isIntersecting","intersectionRatio","root","rootMargin","threshold","observe","disconnect","delay","savedCallback","setInterval","id","undefined","isTouchDevice","setIsTouchDevice","navigator","maxTouchPoints","msMaxTouchPoints","onResize","_temp","_ref$root","_ref$rootMargin","_ref$threshold","once","_ref$once","callbackFunction","entries","node","wireframes","_ref$wireframes","hasBounds","_ref$hasBounds","background","_ref$background","Matter","use","Engine","create","world","engine","timing","timeScale","render","Render","options","canvas","run","Runner","runner","mouse","Mouse","MouseConstraint","constraint","stiffness","visible","World","add","mouseConstraint","lookAt","min","max","mousewheel","loaded","queryString","isMatch","setIsMatch","mqChange","mq","matches","matchMedia","useWindowSize","hasMovedCursor","useOutsideClickEvent","handleClickOutside","contains","project","setProject","_project","Paper","Project","distance","useTransform","title","_ref$title","_ref$width","_ref$height","storageKey","_ref$storageKey","onCreate","_ref$onCreate","_ref$onData","onData","onClose","_ref$onClose","onError","_ref$onError","externalWindow","previousUrl","storageListener","parsed","JSON","parse","removeItem","_externalWindow$curre","close","e","createPopup","_ref2","_externalWindow$curre2","windowFeatures","screenX","outerWidth","screenY","outerHeight","closed","open","focus","onClick","debounce","_ref$debounce","rect","setRect","resize","prev","resizeObserver","ResizeObserver","cancel","upcomingOnly","onResizeObserver","contentRect","_resizeObserver$curre","types","children","_children","flat","_types","slots","_children$find","find","props","springOptions","transformer","className","anchorId","fn","storeScroll","documentElement","dataset","scroll","scrollY","_arguments","arguments","frame","slice","call","passive","IntersectionObserverEntry","prototype","boundingClientRect","classList","remove","querySelector","toggle","setItem","getTheme","setTimeout","clearTimeout"],"mappings":"6/BAAaA,EAA8B,2BAuD9BC,EAAM,SAACC,EAAGC,EAAGC,EAAGC,EAAGC,GAAO,OAACJ,EAAIC,IAAMG,EAAID,IAAOD,EAAID,GAAKE,CAAC,IAUnD,SAACF,EAAGC,EAAGG,GAAM,OAAC,EAAIA,GAAKJ,EAAII,EAAIH,CAAC,EC9DxBI,EAAGR,EAAYS,kBAAyBC,EAAAA,UCmBlCC,EACd,oBAALC,OApBf,WACE,MAAoCC,EAAAA,SAASC,SAASC,YAA/CA,OAAYC,EAAaC,EAAA,GAehC,OAbAT,EAAgB,WAGd,aACEQ,EAAcF,SAASC,WACzB,CAIA,OARAC,EAAcF,SAASC,YAMvBD,SAASI,iBAAiB,mBAAoBC,GAAe,qBAGnDL,SAACM,oBAAoB,mBAAoBD,GAAe,EAAM,CAC1E,EAAG,KAGL,EAG2D,WAAe,ECrB3DE,EAAG,GAeLC,EAAW,SAACC,GACvB,IAAUC,EAAKD,EAATC,KACe,iBAAVD,IAAoBC,EAAOD,GAEtC,IAAME,EAAO,GACkBA,EAAKC,KAAf,mBAAoB,CAAEF,KAAAA,GAC5BD,GAEfF,EAAYM,QAAQ,SAAAC,GAAEC,IAAAA,EAAQC,EAAAA,GAAAA,OACN,iBAALD,GAAiBA,IAAWL,IACvB,sBAAeK,EAAME,WAAA,EAAIN,KAC/CK,EAAcL,WAAAA,EAAAA,EAChB,EACF,EC5BYO,EAAG,SAACC,EAAKC,GACA,mBAALD,EACZA,EAAIC,GACKD,IACTA,EAAIE,QAAUD,EAElB,sOCJgBE,SAAAA,EAAUC,EAASC,QAAAA,IAAAA,IAAAA,EAAc,GAC/C,IAASC,EAAGD,EAAcD,EAAQD,UAClC,OAAIC,EAAQG,aACMJ,EAACC,EAAQG,aAAcD,GAElCA,CACT,CAEO,WAAoBF,EAASC,QAAW,IAAXA,IAAAA,EAAc,GAChD,IAAMG,EAAOH,EAAcD,EAAQK,WACnC,OAAIL,EAAQG,aACHE,EAAWL,EAAQG,aAAcC,IAG5C,CCdaE,MCYgB,WAG3B,MAAoC9B,aAA7B+B,EAAU3B,EAAA,GAAE4B,EAGnB5B,EAAA,KAAqB6B,cAAY,WAE/BD,EAAc,CACZE,MAAOnC,OAAOoC,WACdC,OAAQrC,OAAOsC,aAEnB,EAAG,IAWH,OATA1C,EAAgB,WAMd,OAJAI,OAAOM,iBAAiB,SAAUiC,GAElCA,IAEO,WAAA,cAAa/B,oBAAoB,SAAU+B,EAAa,CACjE,EAAG,KAGL,EC/BA,SAA4BC,EAACL,EAAOM,GAClC,IAAcC,EAAGP,EAAQnC,OAAOoC,WAChC,OAAIK,EAASC,IACT,EAAID,EAAgB,EAE1BA,CAAA,UCZgCE,IAC9B,IAA0C1C,EAAAA,EAAAA,SAAS,CAAEX,EAAG,KAAMsD,EAAG,OAA1DC,OAAeC,EAAgBzC,EAAA,GActC,OAZAP,EAASA,UAAC,WACR,IAAsBiD,EAAG,SAACpC,GAExBmC,EAAiB,CAAExD,EADUqB,EAArBqC,QACuBJ,EADFjC,EAAZsC,SAEnB,EAGA,OAFA/C,SAASI,iBAAiB,YAAayC,GAE1B,WACX7C,SAASM,oBAAoB,YAAauC,EAC5C,CACF,EAAG,IAEIF,CACT,CCXaK,ICyBWC,EAAGC,EAAaA,eA7B3B,EAEW,SAACV,QAAAA,IAAAA,IAAAA,EAAW,KAClC,IAAwBzC,EAAAA,EAAQA,UAAC,GAA1BoD,EAAQhD,EAAA,GAAEiD,EAAGjD,EAAA,GAuBpB,OApBAP,EAASA,UAAC,WAER,SAASyC,IAEP,IAAIJ,EAAQnC,OAAOoC,WAGjBkB,EADEnB,EAAQO,EAKd,CAMA,OAJA1C,OAAOM,iBAAiB,SAAUiC,GAElCA,IAEavC,WAAAA,OAAAA,OAAOQ,oBAAoB,SAAU+B,EAAa,CACjE,EAAG,IAEIc,CACT,4BCXyB,SAACE,EAAMC,YAAAA,IAAAA,EAAU,MACxC,MAAkBC,EAAMA,OAAC,MAczB,OAZA3D,YAAU,WACR,MAAY4D,EAAUnC,QAAQoC,WAAWH,KAClBI,sBAEvB,SAASC,IACPC,EAAmBF,sBAAsBC,GACzCN,EAAKQ,EACP,GAEA,yBAAiCC,qBAACF,EAAiB,CACrD,EAAG,CAACP,EAAMC,IAGZE,CAAA,iBC7B4B,SAACO,GAC3B,IAqB4BhE,EAAAA,EAAQA,UAAC,GAA9BiE,EAAQC,EAAAA,GAAAA,OAETC,EAAOlC,cAAY,WAClBgC,GAAQC,EAxBS,SAACE,GACvB,IAAQC,EAAGpE,SAASqE,cAAc,YAClCD,EAAGhD,MAAQ+C,EACXC,EAAGE,aAAa,WAAY,IAC5BF,EAAGG,MAAMC,SAAW,WACpBJ,EAAGG,MAAM5C,KAAO,UAChB3B,SAASyE,KAAKC,YAAYN,GAC1B,IAAcO,EACZ3E,SAAS4E,eAAeC,WAAa,GACjC7E,SAAS4E,eAAeE,WAAW,GAEzCV,EAAGW,SACH,MAAgB/E,SAASgF,YAAY,QAMrC,OALAhF,SAASyE,KAAKQ,YAAYb,GACtBO,IACF3E,SAAS4E,eAAeM,kBACxBlF,SAAS4E,eAAeO,SAASR,IAGrCS,CAAA,CAKyBC,CAAgBtB,GACzC,EAAG,CAACA,IAGJ,OAFAnE,EAASA,UAAC,WAAM,OAAA,WAAA,UAAgB,EAAM,CAAA,EAAE,CAACmE,IAElC,CAACC,EAAQE,EAClB,oBC1B+B,YAAGoB,IAAAA,EAAAA,EAAAA,gBACYvF,EAAAA,EAAAA,WAArCwF,EAAgBC,EAAAA,GAAAA,EAEvB9F,EAAAA,GAaA,OAbAA,EAAgB,WAEd,IAAqB+F,EAAG3F,OAAO4F,aAAaC,QAC1CC,QAAQC,IAAIC,+BAAiCR,GAI7CE,EAFsB,OAApBC,EAMN,EAAG,KAGL,mBCV8B,SAACM,EAAOvF,GACpC,IAAqBwF,EAAGhE,EAAWA,YAAC,WAClCxB,EAAS,CAAEE,KAAM,qBACnB,EAAG,CAACF,IAEEyF,EAAqBjE,EAAAA,YAAY,WACrCxB,EAAS,CAAEE,KAAM,wBACnB,EAAG,CAACF,IAoBJ,OAAA0F,EAAA,CAAA,EACKH,EACHI,CAAAA,eApBqBnE,EAAWA,YAChC,SAACoE,GACC5F,EAAS,CAAEE,KAAM,mBAAoB2F,QAASD,GAChD,EACA,CAAC5F,IAiBD8F,iBAduBtE,EAAWA,YAAC,WACnCxB,EAAS,CAAEE,KAAM,sBACnB,EAAG,CAACF,IAaFwF,gBAAAA,EACAC,mBAAAA,EACAM,mBAbyBvE,cACzB,SAACwE,GACChG,EAAS,CAAEE,KAAM,uBAAwB2F,QAASG,GACpD,EACA,CAAChG,KAWL,qBC1CgC,WAiB9B,OAhBAd,EAAgB,WACd,IAEU+G,EAAG,kBAEbC,QAAQC,IAAI,sBAHV,+EAIFD,QAAQC,IAENF,iKAAAA,GAEFC,QAAQC,IACN,kEACAF,EAEJ,EAAG,IAGL,IAAA,aC1BwB,WAWtB,OAVcG,EAAOA,QACnB,WACE,MAAkB,oBAAL9G,SACTA,OAAO+G,SAASC,KAAKC,SAAS,WACL,gBAAzBnB,QAAQC,IAAImB,UACZpB,QAAQC,IAAIoB,wBACZrB,QAAQC,IAAIqB,kBACP,EACX,GAGJ,0CdkB2B,SAACxG,EAAMyG,EAAUC,GAK1C,YAL8C,IAAJA,IAAAA,EAAO,IAEjDxH,EAAAA,UAAU,WAAA,OA9BM,SAACmB,EAAQC,GACzB,GAAID,SACAC,QAIJ,OAFAT,EAAW,GAAA8G,OAAO9G,EAAa,CAAA,CAACQ,EAAQC,gBAGtCT,EAAcA,EAAYQ,OACxB,SAACuG,UAAyBA,EAAC,KAAOtG,CAAU,EAEhD,CACF,EAmB4BN,EAAMyG,EAAS,EAAA,GAAAE,OAAMD,EAAMD,CAAAA,EAAUzG,KAIjEF,CAAA,aehCwB,SAAC+G,EAAoBC,QAApBD,IAAAA,IAAAA,EAAU,WAAQ,QAAQ,IAANC,IAAAA,EAAS,WAAM,GAC1D,IAAArH,EAA8BJ,EAAAA,UAAS,GAAhC0H,EAAOtH,EAAA,GAAEuH,EAEhBvH,EAAA,GAAoBwH,EAAG3F,EAAAA,YAAY,WACjCuF,IACAG,GAAW,EACb,EAAG,CAACH,MAEkBvF,cAAY,WAChCwF,IACAE,GAAW,EACb,EAAG,CAACF,IAaJ,OAXA9H,EAAgB,WAKd,OAJAI,OAAOM,iBAAiB,QAASuH,GACjC7H,OAAOM,iBAAiB,OAAQwH,GAGnB,WACX9H,OAAOQ,oBAAoB,QAASqH,GACpC7H,OAAOQ,oBAAoB,OAAQsH,EACrC,CACF,EAAG,IAEI,CAAEH,QAAAA,EACX,edfmB,SAACI,EAAMC,GAMxB,iBAAe,WACb,OAAY,MAARD,GAAwB,MAARC,EACX,KAEF,SAACC,GACN7G,EAAO2G,EAAME,GACb7G,EAAO4G,EAAMC,EACf,CACF,EAAG,CAACF,EAAMC,GACZ,aezBwB,SAACE,QAAK,IAALA,IAAAA,EAAQ,WAC/B,IAAsBjI,EAAAA,EAAQA,SAAC,MAAxBkI,EAAG9H,EAAA,GAAE+H,EAAM/H,EAAA,GACYJ,EAAAA,EAAQA,UAAC,GAAhCoI,EAAOC,EAAA,GAAEC,EAAUD,EAAA,GAsC1B,OAnCAxI,UAAU,WACR,GAAIoI,IAAUC,IAAQE,EACpB,IACEE,GAAW,GACGC,QAAQ,YAARA,CACZ1C,QAAQC,IAAI0C,eAAiB3C,QAAQC,IAAI2C,2BAGrCC,OAAOT,EAAO,SAACU,EAAKC,GAExB,GAAwB,MAApBA,EAAIC,KAAKC,OAAgB,CAC3B,IAAMC,EAAiBC,KAAKC,MAC1BD,KAAKE,UAAYN,EAAIO,KAAKC,OAAS,GAAK,GAE3BC,EAAGT,EAAIO,KAAKJ,GAE3B,GAAIM,GAAaA,EAAUC,OAAQ,CACjC3C,QAAQC,IAAI,YAAayC,GACzB,IAAQC,EAAWD,EAAXC,OAERnB,EAAO,CAAEgB,KAAME,EAAWE,KADE,MAAND,OAAM,EAANA,EAAQE,aAAtBC,OAERnB,GAAW,EACb,CACF,MACEA,GAAW,GACX3B,QAAQ+C,MAAMd,EAAIC,KAAKc,IAAKhB,EAEhC,EAIF,CAHE,MAAOA,GACPL,GAAW,GACX3B,QAAQ+C,MAAM,wCAAyCf,EACzD,CAEJ,EAAG,CAACT,EAAKE,EAASH,IAEX,CAACG,EAASF,EACnB,kBCvC6B,SAAC0B,GAC5B,IAAYC,EAAGC,EAASA,YACVC,EAAKF,EAAXE,OACRpK,EAAgB,WACd,GAAIkK,EAAOG,SAAWJ,EAAS,CAC7B,IAAUK,EAPA,SAACF,GAAWA,OAAAA,EAAOG,MAAM,KAAK,EAAE,CAO7BC,CAAQJ,GACrB,GAAIE,EAEF,IACEJ,EAAOhJ,KAAK,CACVuJ,SAAU,IACVH,KAAAA,GAIJ,CAFE,MAAOtB,GACPhC,QAAQC,IAAI,sBAAuB+B,EACrC,MAEA5I,OAAOsK,SAAS,EAAG,EAEvB,CACF,EAAG,CAACT,GACN,wBZbO,SAA6BU,GAClC,MAAkBtK,EAAAA,SAAS,GAApBX,EAACe,EAAA,GAAEmK,EAAInK,EAAA,GAoCd,OAnCAP,YAAU,WACR,IAAA2K,IAAkBF,MAAAA,GAAsB,OAAtBA,EAAAA,EAAehJ,cAAfgJ,EAAAE,EAAwBC,YAC1C,GAAKA,EAAL,CAKA,IAAcC,IAcDC,EAAQA,SAPrB,SAAoBC,GAAGC,IACfC,EAAQ9B,KAAK+B,QADEF,QACY,GAAG7H,QAAU0H,GAC9CH,EAAK,SAAClL,UAAyBkD,EAACkI,EAAapL,EAAIyL,EAAM,EACzD,EAImC,IAMnC,OALA7K,SAASI,iBAAiB,QAAS2K,GACnC/K,SAASI,iBAAiB,YAAa4K,GACvChL,SAASI,iBAAiB,aAAc6K,GACxCjL,SAASI,iBAAiB,WAAY8K,GACtCpL,OAAOM,iBAAiB,SAAUiC,GACrB,WACXrC,SAASM,oBAAoB,QAASyK,GACtC/K,SAASM,oBAAoB,YAAa0K,GAC1ChL,SAASM,oBAAoB,aAAc2K,GAC3CjL,SAASM,oBAAoB,WAAY4K,GACzCpL,OAAOQ,oBAAoB,SAAU+B,EACvC,EA9BA,SAAqBA,UACnBmI,EAA2B,MAAbH,GAAA,OAAac,EAAbd,EAAehJ,cAAF,EAAb8J,EAAwBX,YACtCF,EAAK,EACP,CAEA,SAAqBS,EAAAjK,GAAGyB,IAAAA,IAAAA,OACtB+H,EAAK,SAAClL,GAAC,OAAwBkD,EAACkI,EAAapL,EAAImD,EAAO,EAC1D,CACA,SAAS0I,KACPR,EADuBG,EAAAA,QACF,GAAG7H,OAC1B,CAKA,SAASmI,IACPT,EAAa,CACf,CAcF,EAAG,CAACJ,EAAeC,IAErBlL,CAAA,kBaxC6B,SAAC+B,EAAKiK,GACjC,IAAAC,EAAiB5I,IAATrD,IAAAA,EAAGsD,EAAC2I,EAAD3I,EAEH4I,EAAGC,EAAAA,eAAe,GACjBC,EAAGD,iBAAe,GACnBE,EAAGF,EAAcA,eAAC,GACpBG,EAAMH,iBAAe,GACVI,EAAGJ,EAAAA,eAAe,GAC7BK,EAAgBL,EAAAA,eAAe,GAEtBM,EAAGC,EAAAA,kBAAiB,aACpBR,EAAGS,MAAYN,OAAAA,EAAGM,MAAmBJ,cAAAA,EAAYI,MAC/D,QACWhL,EAAA,cAAiB6K,EAAcG,MAAK,IAwDhD,OArDAnM,EAAAA,UAAU,WAGR,IAAYoM,EAAG7K,EAAIE,QAAQ4K,wBACVC,EAAGd,EAAO/J,QAAQ4K,wBAC7BE,EAAMpD,KAAKqD,IAAIhN,EAAI4M,EAAOrK,MAAQuK,EAAYjK,MAAQ,EACtDoK,EAAMtD,KAAKqD,IAAI1J,EAAIsJ,EAAOvK,KAAOyK,EAAY/J,OAAS,EAC5DmJ,EAAGlI,IAAI+I,GACPV,EAAGrI,IAAIiJ,EACT,EAAG,CAACjN,EAAGsD,IAEP9C,YAAU,WACR,SAAe0M,IAEb,MAAkB,CAChBlN,EAAGoM,EAAIO,MAAQT,EAAGS,MAClBrJ,EAAGgJ,EAAIK,MAAQN,EAAGM,OAKpBP,EAAIpI,IAAImJ,EAAKf,EAAIO,MAAOT,EAAGkB,cAAe,MAC1Cd,EAAItI,IAAImJ,EAAKb,EAAIK,MAAON,EAAGe,cAAe,MAE1C,IrBagBC,EqBbVC,GrBaUD,EqBba1D,KAAKqD,IAAIO,EAAUvN,KAAI,IrBcrCqN,GqBdwC,QrBcrBA,EqBXnBG,EAAGzN,EAChBuN,EACA,EACA,IACA,EACAC,EAAUvN,EAAI,EAAI,IAAM,IAE1ByN,UAAQlB,EAAaiB,EAAW,CAC9BE,SAAU,IACVC,KAAM,WAIR,IAAMC,EAAc7N,EAAIuN,EAAgB,EAAG,IAAK,EAAG,GACnDd,EAAcxI,IAAI4J,EACpB,CAEA,MAAqB1B,EAAG2B,SAASX,GACfY,EAAGzB,EAAGwB,SAASX,GAEjC,OAAO,WACLa,IACAD,GACF,CACF,EAAG,IAEI,CACLrB,UAAAA,EACA9K,OAAAA,EAEJ,UCpFgBqM,WAGd,OAFWxG,UAAQ,WAAMyG,OAAAA,EAAAA,QAAQ,EAAE,GAGrC,4BCDuC,SACrCC,EACAC,EACAC,QADe,IAAfD,IAAAA,EAAkB,CAAC,SACnBC,IAAAA,IAAAA,EAAa,MAEb,MAA4BzN,EAAQA,UAAC,GAA9B0N,EAAMtN,EAAA,GAAEuN,EACfvN,EAAA,GACiBwN,EAAGC,EAASA,UAAC,EADR,CAAEC,QAAS,IAAKC,SAAU,MA0BhD,OAvBAlO,EAAAA,UAAU,WACR,IAeMmO,EAAW,IAAIC,qBAfI,SAAalN,GAAA,MACpCA,EAAA,GAAImN,EAAMC,gBACRR,GAAU,GACVC,EAAYvK,IAAI6K,EAAME,oBAEtBT,GAAU,EAEd,EAEwB,CACtBU,KAAMZ,EACNa,WAAY,kBACZC,UAAWf,IAOb,OAFAQ,EAASQ,QAAQjB,EAAOjM,SAEjB,WAAA,SAAemN,YAAY,CACpC,EAAG,CAAClB,EAAQC,EAAiBC,EAAYG,IAElC,CAAEF,OAAAA,EAAQE,YAAAA,EACnB,gBCrC2B,SAACxG,EAAUsH,GACpC,IAAmBC,EAAGnL,EAAAA,SAEtB3D,EAAAA,UAAU,WACR8O,EAAcrN,QAAU8F,CAC1B,GAEAvH,YAAU,WAIR,GAAc,OAAV6O,EAAgB,CAClB,MAAWE,YAJb,WACED,EAAcrN,SAChB,EAE+BoN,GAC7B,OAAO,WAAA,qBAAoBG,EAAG,CAChC,CACF,EAAG,CAACH,GACN,qCCfgC,WAC9B,IAAAtO,EAA0CJ,EAAAA,cAAS8O,GAA5CC,EAAa3O,EAAA,GAAE4O,EAEtB5O,EAAA,KAAiB6B,EAAAA,YAAY,WAC3B+M,EACE,yBACEC,UAAUC,eAAiB,GAC3BD,UAAUE,iBAAmB,EAEnC,EAAG,IAWH,OATAxP,EAAgB,WAId,OAHAyP,IACArP,OAAOM,iBAAiB,SAAU+O,GAAU,GAErC,WACLrP,OAAOQ,oBAAoB,SAAU6O,GAAU,EACjD,CACF,EAAG,IAGLL,CAAA,iBCtB4B,SAKjBM,GAAA,IAAAtO,OAAA,IAAAsO,EAAP,CAAA,EAAEA,EAAAC,EAAAvO,EAJJsN,KAAAA,OAAI,IAAAiB,EAAG,KACPhB,EAAAA,EAAAA,EAAAA,WAAAA,OAAU,IAAAiB,EAAG,MACbhB,EAAAA,EAAAA,EAAAA,UAAAA,OAAY,IAAAiB,EAAA,QACZC,KAAAA,OAAI,IAAAC,GAAQA,EAEE1B,EAAGxK,EAAMA,WACXA,WACZpD,EAA4BJ,EAAAA,UAAS,GAA9B0N,EAAMtN,EAAA,GAAEuN,EAEfvN,EAAA,GAMMuP,EAAmB1N,EAAWA,YAAC,SAAC2N,GAEpCjC,EADgBiC,EAAO,GACPzB,eAClB,EAAG,IAoBH,OAlBAtO,EAASA,UAAC,WAOR,OANAmO,EAAS1M,QAAU,IAAwB2M,qBAAC0B,EAAkB,CAC5DtB,KAAAA,EACAC,WAAAA,EACAC,UAAAA,IAEEnN,EAAIE,SAAS0M,EAAS1M,QAAQkN,QAAQpN,EAAIE,oBAE5C0M,EAAS1M,QAAQmN,YACnB,CACF,EAAG,CAACkB,IAEJ9P,EAAAA,UAAU,WACJ4P,GAAQ/B,GACVM,EAAS1M,QAAQmN,YAErB,EAAG,CAACf,IAEG,CAAEvM,OA7BM,SAAC0O,GACTzO,EAAIE,UACPF,EAAIE,QAAUuO,EAElB,EAyBiBnC,OAAAA,EACnB,oCChC2B,SAAH3M,GAAA,MACtBK,EAAAA,IACAc,IAAAA,MACAE,EAAAA,EAAAA,WACA0N,WAAAA,OAAU,IAAAC,GACVC,EAAAA,EAAAA,EAAAA,UAAAA,OAAS,IAAAC,GACTC,EAAAA,EAAAA,EAAAA,WAAAA,aAAa,cAAaC,EAAA,SAEnBtJ,QAAC,WAGNuJ,EAAOC,IAAI,qBACXD,EAAOC,IAAI,eAGX,MAAeD,EAAOE,OAAOC,SACrBC,EAAkBC,EAAlBD,MAAkBC,EAAXC,OAERC,UAAY,IAGnB,IAAYC,EAAGR,EAAOS,OAAON,OAAO,CAClC/O,QAASJ,EAAIE,QACbmP,OAAQA,EACRK,QAAS,CACPd,UAAAA,EACAF,WAAAA,EACA5N,MAAAA,EACAE,OAAAA,EACA8N,WAAAA,KAaUa,EAAKH,EAAXG,OAGRX,EAAOS,OAAOG,IAAIJ,GAGlB,MAAeR,EAAOa,OAAOV,SAE7BH,EAAOa,OAAOD,IAAIE,EAAQT,GAG1B,IAAMU,EAAQf,EAAOgB,MAAMb,OAAOQ,KAEVX,EAAOiB,gBAAgBd,OAAOE,EAAQ,CAC5DU,MAAOA,EACPG,WAAY,CACVC,UAAW,GACXX,OAAQ,CACNY,SAAS,MA0Bf,OArBApB,EAAOqB,MAAMC,IAAIlB,EAAOmB,GAGxBf,EAAOO,MAAQA,EAGff,EAAOS,OAAOe,OAAOhB,EAAQ,CAC3BiB,IAAK,CAAExS,EAAG,EAAGsD,EAAG,GAChBmP,IAAK,CAAEzS,EAAG6C,EAAOS,EAAGP,KAItBuP,EAAgBR,MAAM3P,QAAQjB,oBAC5B,aACAoR,EAAgBR,MAAMY,YAExBJ,EAAgBR,MAAM3P,QAAQjB,oBAC5B,iBACAoR,EAAgBR,MAAMY,YAGjB,CACLC,QAAQ,EACRvB,OAAAA,EACAG,OAAAA,EACAM,OAAAA,EACAC,MAAAA,EAEJ,EAAG,CAAC/P,EAAK8O,EAAYJ,EAAYE,EAAW5N,EAAQF,GAAO,kBCpGhC,SAAC+P,GAC5B,IAA8BjS,EAAAA,EAAQA,cAAC8O,GAAhCoD,EAAO9R,EAAA,GAAE+R,EAEhB/R,EAAA,GAAcgS,EAAGnQ,EAAAA,YAAY,SAACoQ,GAC5BF,EAAWE,EAAGC,QAChB,EAAG,IAaH,OAXA3S,EAAgB,WACd,IAAQ0S,EAAGtS,OAAOwS,WAAWN,GAK7B,OAJAG,EAASC,GAETA,EAAGhS,iBAAiB,SAAU+R,GAEvB,WACLC,EAAG9R,oBAAoB,SAAU6R,EACnC,CACF,GAGFF,CAAA,sBlBfiC,WAC/B,IAA0BM,EAAAA,IAAlBtQ,EAAAA,EAAAA,MAAOE,EAAAA,EAAAA,OACfkJ,EAAiB5I,IAATrD,EAACiM,EAADjM,EAAGsD,EAAC2I,EAAD3I,EAQX,MAAO,CACLiK,UALOvN,EAAI6C,EAAQ,GAAKS,EAAIP,EAAS,EAKrB,KAFT/C,EAAI6C,EAAQ,GAAKS,EAAIP,EAAS,EAET,KAJrB/C,EAAI6C,EAAQ,GAAKS,EAAIP,EAAS,EAIG,KAAO,KAC/CqQ,eARkC,iBAANpT,GAA+B,iBAANsD,EAUzD,8CmBnBgB+P,SAAqBtR,EAAKgG,GACxC,IAAMuL,EAAqB1Q,cACzB,SAACvB,GACKU,EAAIE,UAAYF,EAAIE,QAAQsR,SAASlS,EAAM6M,SAC7CnG,GAEJ,EACA,CAAChG,EAAKgG,IAGRvH,EAASA,UAAC,WAER,OADAI,SAASI,iBAAiB,YAAasS,cAErC1S,SAASM,oBAAoB,YAAaoS,EAC5C,CACF,EAAG,CAACA,GACN,eCL0B,SAAH5R,OAASK,EAAAL,EAAHK,MACGpB,EAAQA,WAA/B6S,OAASC,EAAU1S,EAAA,GAe1B,OAbAT,EAAgB,WACd,IAAKkT,GAAWzR,GAAOA,EAAIE,QAAS,CAOlC,IAAcyR,EAAG,IAASC,EAAA,QAACC,QAAQ7R,EAAIE,SACvCwR,EAAWC,EACb,CACF,EAAG,CAACF,EAASzR,KAGf,gBCrB2B,SAACC,EAAO6R,GACjC,OAAOC,EAAYA,aAAC9R,EAAO,CAAC,EAAG,GAAI,EAAE6R,EAAUA,GACjD,aCEwB,SAAHnS,WACnBqS,MAAAA,OAAK,IAAAC,EAAG,GAAEA,EAAAC,EAAAvS,EACVmB,MAAAA,OAAK,IAAAoR,EAAG,IAAGA,EAAAC,EAAAxS,EACXqB,OAAAA,OAAS,IAAAmR,EAAA,KACThK,EAAAA,EAAAA,EAAAA,IACAiK,EAAAA,EAAAA,WAAAA,OAAa,IAAAC,EAAA,oBACbC,EAAAA,EAAAA,EAAAA,SAAAA,OAAQ,IAAAC,EAAG,SAACpK,GAAQ5C,OAAAA,QAAQC,IAAI,4BAA6B2C,EAAI,EAAAoK,EAAAC,EAAA7S,EACjE8S,OAAAA,OAAS,IAAAD,EAAA,SAACzK,GAAI,OAAYxC,QAACC,IAAI,OAAQuC,EAAK,QAC5C2K,QAAAA,OAAO,IAAAC,EAAG,WAEV,EACAC,EAAAA,EAAAA,EAAAA,QAAAA,OAAU,IAAAC,EAAA,SAACtL,GAAQhC,OAAAA,QAAQC,IAAI,cAAe8C,MAAM,EAAAuK,EAE9CC,EAAiB1Q,WACN2Q,EAAG3Q,EAAMA,SAML4Q,EAAGnS,EAAWA,YAAC,WAClC,IACE,IAAUkH,EAAGxD,aAAaC,QAAQ4N,GAClC,GAAIrK,EAAM,OACFkL,EAASC,KAAKC,MAAMpL,GAC1B0K,EAAOQ,GACPtU,OAAO4F,aAAa6O,WAAWhB,GACT,OAAtBiB,EAAAP,EAAe5S,UAAfmT,EAAwBC,QACxB3U,OAAOQ,oBAAoB,UAAW6T,EACxC,CAIF,CAHE,MAAOO,GACPX,EAAQW,GACR5U,OAAOQ,oBAAoB,UAAW6T,EACxC,CACF,EAAG,CAACP,EAAQG,EAASR,EAAYU,IAOhBU,EAAG3S,EAAWA,YAC7B,SAAyE4S,GAAA,IAAAC,EAAnEvL,EAAAsL,EAAHtL,IAAK6J,EAAKyB,EAALzB,MAAOhR,EAAMyS,EAANzS,OAAQF,EAAK2S,EAAL3S,MAAwB4R,EAAAA,EAAAA,QAIzBiB,EAAA,SAAY7S,EAAK,WAAWE,EAAeR,UAFlD7B,OAAOiV,SAAWjV,OAAOkV,WAAa/S,GAAS,GAEeR,SAD/D3B,OAAOmV,SAAWnV,OAAOoV,YAAc/S,GAAU,KAG9B,OAA3B8R,EAAe5S,SAAoB,OAAJwT,EAAIZ,EAAe5S,UAAfwT,EAAwBM,OAK7DlB,EAAe5S,QAAUvB,OAAOsV,KAAK9L,EAAK6J,EAAO2B,GACxCZ,EAAY7S,UAAYiI,GAMjC2K,EAAe5S,QAAUvB,OAAOsV,KAAK9L,EAAK6J,EAAO2B,GACjDb,EAAe5S,QAAQgU,SAQvBpB,EAAe5S,QAAQgU,QAGzBvV,OAAOM,iBAAiB,UAAW+T,GAEnCrU,OAAOM,iBACL,eACA,WACEyT,GACF,GACA,GAMFK,EAAY7S,QAAUiI,EAEtBmK,EAASnK,EACX,EACA,CAAC2K,EAAgBE,IA+BnB,MAAO,CACLmB,QAxBctT,cAAY,WAC1B2S,EAAY,CACVrL,IAAAA,EACA6J,MAAAA,EACAlR,MAAAA,EACAE,OAAAA,EACAyR,OAAAA,EACAC,QAAAA,EACAE,QAAAA,EACAR,WAAAA,GAEJ,EAAG,CACDoB,EACArL,EACA6J,EACAlR,EACAE,EACAyR,EACAC,EACAE,EACAR,IAMJ,qB3BpH+BnE,qBAAuB,CAAA,KAApBmG,SAAAA,OAAW,IAAAC,EAAA,MACrCjU,EAAUgC,EAAMA,SAEExD,EAAAA,EAAAA,SAAS,CAC/B0B,SAAKoN,EACLlN,UAAMkN,EACN5M,WAAO4M,EACP1M,YAAQ0M,IAJH4G,OAAMC,EAAOvV,EAAA,GAORwV,EAAG,WACTpU,EAAQF,SACVqU,EAAQ,SAACE,GAAI,OAAA1P,EAAA,CAAA,EACR0P,EACHnU,CAAAA,IAAKH,EAAUC,EAAQF,SACvBM,KAAMC,EAAWL,EAAQF,UACzB,EAEN,EAGA3B,EAAgB,WACd,IAAcyH,EAAGuD,EAAQA,SAAC6K,EAAUI,GAC9BE,EAAiB,IAAIC,eAAe3O,GAG1C,OAFA0O,EAAetH,QAAQvO,SAASyE,MAEzB,WACLoR,EAAerH,aACfrH,EAAS4O,OAAO,CAAEC,cAAc,GAClC,CACF,EAAG,CAACT,IAEJ,IAAsBU,EAAG,SAAHrB,SAAUA,EAAA,GACEsB,YAAxBjU,IAAAA,MAAOE,EAAAA,EAAAA,OAEfuT,EAAQ,SAACE,GAAI,OAAA1P,EAAA,CAAA,EACR0P,EACH3T,CAAAA,MAAAA,EACAE,OAAAA,GACA,EACJ,EAEoB0T,EAAGtS,EAAMA,SAiB7B,MAAO,CAfQ,SAACqM,GAAS,IAAAuG,EAClBvG,GAAQA,IAASrO,EAAQF,iBAE9B8U,EAAAN,EAAexU,UAAf8U,EAAwB3H,aACxBqH,EAAexU,QAAU,IAAkByU,eAACG,GAE5CJ,EAAexU,QAAQkN,QAAQqB,GAE/BrO,EAAQF,QAAUuO,EACpB,EAMgB6F,EAJA,SAACrW,EAAOsD,GACtB,OACF+S,CAAA,EAGF,aC5EwB,SAACW,EAAYC,QAAP,IAALD,IAAAA,EAAQ,SAAY,IAARC,IAAAA,EAAW,IAC9C,IAAMC,EAAY1P,EAAOA,QAAC,WAAA,OAAcyP,GAAI,CAACA,GAAUE,MAAM,EAAE,CAACF,IAC1DG,EAAS5P,EAAAA,QAAQ,WAAA,OAAWwP,GAAI,CAACA,GAAOG,MAAM,EAAE,CAACH,IAC5CK,EAAG7P,EAAOA,QACnB,WACE0P,OAAAA,GACAE,GACAA,EAAOrX,IAEL,SAACuB,GAAI,IAAAgW,EAAA,OAAK,OAALA,EAAKJ,EAAUK,KAAK,SAACvS,GAAOA,OAAAA,EAAG1D,OAASA,CAAI,SAAvC,EAAAgW,EAA0CE,MAAMP,QAAQ,EACnE,EACH,CAACC,EAAWE,IAGd,OAAOJ,EAAM,GAAKK,EAAQA,EAAM,EAClC,uB2BdkC,SAACrV,EAAOyV,EAAeC,GACvD,OAAOlJ,EAAAA,UAAUsF,EAAAA,aAAa9R,EAAO0V,GAAcD,EACrD,cCDyB,SACvBE,EACAC,YADAD,IAAAA,EAAY,8BACZC,IAAAA,EAAW,6BAGX,IAAkBC,IAqBZC,EAAc,WAClBlX,SAASmX,gBAAgBC,QAAQC,OAASvX,OAAOwX,OACnD,EAGAtX,SAASI,iBAAiB,UA1BR6W,EA0B2BC,aAnBzC,IAAAK,EAAAC,UAAIC,GACF3T,qBAAqB2T,GAIvBA,EAAQ/T,sBAAsB,WAE5BuT,EACFhW,WAAA,EAAA,GAAAyW,MAAAC,KAAAJ,GAAA,EACF,GAUyD,CAAEK,SAAS,IAGtEV,IAGE,yBAAgCpX,QAChC,8BAA+BA,QAC/B,6BAA8B+X,0BAA0BC,WAEvC,IAAI9J,qBAAqB,SAAC2B,GACrCA,EAAQ,GAAGoI,mBAAmBrV,EAAI,EACpC1C,SAASyE,KAAKuT,UAAUvG,IAAIsF,GAE5B/W,SAASyE,KAAKuT,UAAUC,OAAOlB,EAEnC,GACSxI,QAAQvO,SAASkY,cAAclB,GAE5C,aClDwB,WACtB,IAAYmB,EAAGnW,EAAWA,YAAC,WACH,oBAALlC,SAEb4F,aAAaC,QAAQ,SACe,UAAlCD,aAAaC,QAAQ,UACvB3F,SAASmX,gBAAgBa,UAAUvG,IAAI,QACvC/L,aAAa0S,QAAQ,QAAS,UAE9BpY,SAASmX,gBAAgBa,UAAUC,OAAO,QAC1CvS,aAAa0S,QAAQ,QAAS,UAK5BpY,SAASmX,gBAAgBa,UAAUrF,SAAS,SAC9C3S,SAASmX,gBAAgBa,UAAUC,OAAO,QAC1CvS,aAAa0S,QAAQ,QAAS,WAE9BpY,SAASmX,gBAAgBa,UAAUvG,IAAI,QACvC/L,aAAa0S,QAAQ,QAAS,SAGpC,EAAG,IAEWC,EAAGrW,EAAWA,YAAC,WAC3B,MAAyB,oBAALlC,OAAmB4F,aAAaC,QAAQ,SAAW,IACzE,EAAG,IAaH,OAXAjG,EAAgB,WAEVgG,aAAaC,QAAQ,WACe,UAAlCD,aAAaC,QAAQ,SACvB3F,SAASmX,gBAAgBa,UAAUC,OAAO,QAE1CjY,SAASmX,gBAAgBa,UAAUvG,IAAI,QAG7C,EAAG,CAAC0G,IAEG,CAAEA,OAAAA,EAAQE,SAAAA,EACnB,eC9B0B,SAAClR,EAAUsH,GACnC,IAAmBC,EAAGnL,EAAMA,SAE5B3D,EAASA,UAAC,WACR8O,EAAcrN,QAAU8F,CAC1B,EAAG,CAACA,IAEJvH,EAAAA,UAAU,WAIR,GAAc,OAAV6O,EAAgB,CAClB,IAAMG,EAAK0J,WAJb,WACE5J,EAAcrN,SAChB,EAEsC,IAARoN,GAC5B,yBAAyB8J,aAAC3J,EAAG,CAC/B,CACF,EAAG,CAACH,GACN"}